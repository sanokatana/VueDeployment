{"version":3,"file":"js/796.js","mappings":"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","sources":["webpack://client/./src/views/LoginPage.vue","webpack://client/./src/views/LoginPage.vue?fce3"],"sourcesContent":["<template>\n  <div class=\"flex align-items-center justify-content-center flex-wrap bg-ggi-red\" style=\"height: 100vh\">\n    <div class=\"flex col-12 align-items-center justify-content-center flex-wrap\">\n      <div class=\"grid\">\n        <div class=\"col-12\">\n          <h1 class=\"text-white text-color flex-wrap\">Welcome to PT. Griya Gardenia Indah</h1>\n        </div>\n      </div>\n    </div>\n    <div class=\"flex col-12 align-items-center justify-content-center flex-wrap\">\n      <Card class=\"col-3\">\n        <template #content>\n          <form>\n            <div class=\"p-fluid grid-nogutter\">\n              <div class=\"field col\">\n                <InputText placeholder=\"Username\" type=\"text\" v-model=\"username\" class=\"login-input\" />\n              </div>\n              <div class=\"field col\">\n                <Password v-model=\"password\" :feedback=\"false\" :toggleMask=\"true\" placeholder=\"Password\"\n                  class=\"login-input\" />\n              </div>\n              <div class=\"flex justify-content-end align-items-center grid-nogutter\">\n                <div class=\"col-4\">\n                  <Button type=\"submit\" :label=\"isLoggedIn ? 'Successful' : 'Login'\"\n                    :icon=\"isLoading ? 'pi pi-spin pi-spinner' : 'pi pi-sign-in'\" @click=\"handleLogin\"\n                    :disabled=\"isLoading\" :class=\"{ 'p-button-success': isLoggedIn }\" />\n                </div>\n              </div>\n            </div>\n          </form>\n        </template>\n      </Card>\n    </div>\n    <div class=\"flex align-items-center justify-content-center flex-wrap\">\n      <div class=\"flex col-12 align-items-center justify-content-center\"><h1>Developed By:</h1></div>\n      <div class=\"flex col-12 align-items-center justify-content-center \"><img src=\"@/assets/logochl.png\" class=\"login-logo\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport InputText from 'primevue/inputtext';\nimport Password from 'primevue/password';\nimport Button from 'primevue/button';\nimport Card from 'primevue/card';\nimport Backend from '@/backend';\n\nlet backend = new Backend();\n\nexport default {\n  components: { Card, InputText, Password, Button, },\n  data() {\n    return {\n      username: null,\n      password: null,\n      isLoading: false,\n      isLoggedIn: false,\n    }\n  },\n  methods: {\n    async handleLogin() {\n      this.isLoading = true\n      try {\n        let res = await backend.user.login({ identifier: this.username, password: this.password });\n        let res1 = await backend.user.findByID(res.data.user.id)\n        let loginDateCurrent = new Date()\n        if (res.data.user.loginDateNew) {\n          res.data.user.loginDate = res.data.user.loginDateNew;\n        }\n        const options = {\n          weekday: 'long',\n          year: 'numeric',\n          month: 'long',\n          day: 'numeric',\n          hour: 'numeric',\n          minute: 'numeric',\n          second: 'numeric',\n          timeZone: 'Asia/Jakarta', // Set the time zone to GMT +7\n          locale: 'id-ID' // Using Indonesian locale\n        };\n\n        const formattedDate = loginDateCurrent.toLocaleDateString('id-ID', options);\n        res.data.user.loginDateNew = formattedDate\n        console.log();\n        const requestData = res.data.user;\n        await backend.user.updateByID(requestData.id, requestData);\n        this.isLoading = false;\n        this.isLoggedIn = true;\n        setTimeout(() => {\n          this.$store.commit('adminDataInit', res1.data.id_project);\n          this.$store.commit('login', res.data);\n          this.$router.push({ name: 'Home' });\n        }, 1000);\n\n        if (this.isLoggedIn == true) {\n          this.$toast.add({ severity: 'success', summary: 'Login Successful', detail: 'Thank you', life: 1000 });\n        }\n      } catch (err) {\n        console.log(err);\n        this.isLoading = false\n        if (err.response.status === 400) {\n          this.$toast.add({ severity: 'error', summary: 'Login error', detail: 'Incorrect username or password', life: 2000 });\n        } else {\n          this.$toast.add({ severity: 'error', summary: 'Login error', detail: err.message, life: 2000 });\n        }\n      }\n    }\n  }\n\n}\n</script>\n\n<style scoped>\n.login-logo {\n  width: 45%;\n}\n\n.login-heading {\n  font-size: 3rem;\n  ;\n}\n</style>\n\n","import { render } from \"./LoginPage.vue?vue&type=template&id=f2d81be2&scoped=true\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=f2d81be2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f2d81be2\"]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","src","_imports_0","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_Card","content","_withCtx","_hoisted_4","_hoisted_5","_component_InputText","placeholder","type","modelValue","$data","username","_cache","$event","_hoisted_6","_component_Password","password","feedback","toggleMask","_hoisted_7","_hoisted_8","_component_Button","label","isLoggedIn","icon","isLoading","onClick","$options","handleLogin","disabled","_normalizeClass","_","_hoisted_9","backend","Backend","components","Card","InputText","Password","Button","data","methods","this","res","user","login","identifier","res1","findByID","id","loginDateCurrent","Date","loginDateNew","loginDate","options","weekday","year","month","day","hour","minute","second","timeZone","locale","formattedDate","toLocaleDateString","console","log","requestData","updateByID","setTimeout","$store","commit","id_project","$router","push","name","$toast","add","severity","summary","detail","life","err","response","status","message","__exports__","render"],"sourceRoot":""}