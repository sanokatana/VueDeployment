"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[456],{5556:function(e,a,t){t.d(a,{c:function(){return d}});var o=t(7988),l=t(9435),r={root:function(e){var a=e.instance,t=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":a.filled,"p-inputtextarea-resizable ":t.autoResize,"p-invalid":t.invalid,"p-variant-filled":t.variant?"filled"===t.variant:"filled"===a.$primevue.config.inputStyle}]}},s=l.c.extend({name:"textarea",classes:r}),n=t(4108),i={name:"BaseTextarea",extends:o.c,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:s,provide:function(){return{$parentInstance:this}}},d={name:"Textarea",extends:i,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return null!=this.modelValue&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||""===this.$attrs.disabled}}}}},u=["value"];function m(e,a,t,o,l,r){return(0,n.Wz)(),(0,n.An)("textarea",(0,n.Gu)({class:e.cx("root"),value:e.modelValue,onInput:a[0]||(a[0]=function(){return r.onInput&&r.onInput.apply(r,arguments)})},e.ptm("root",r.ptmParams)),null,16,u)}d.render=m},456:function(e,a,t){t.r(a),t.d(a,{default:function(){return ra}});var o=t(4108);const l={class:"col-12 offset-10"},r=(0,o.QD)("div",{class:"flex justify-content-between align-items-center"},[(0,o.QD)("h1",{class:"text-ggi-red"},"Panel Form - Permohonan Penambahan Daya Listrik")],-1),s={class:"flex justify-content-start mb-4"},n={class:"p-input-icon-left"},i=(0,o.QD)("i",{class:"pi pi-search"},null,-1);function d(e,a,t,d,u,m){const c=(0,o.E1)("InputText"),p=(0,o.E1)("Dropdown"),f=(0,o.E1)("Column"),b=(0,o.E1)("StatusTag"),y=(0,o.E1)("DataTable"),h=(0,o.E1)("formModal");return(0,o.Wz)(),(0,o.An)("div",l,[r,(0,o.QD)("div",s,[(0,o.QD)("span",n,[i,(0,o.K2)(c,{modelValue:u.filters["global"].value,"onUpdate:modelValue":a[0]||(a[0]=e=>u.filters["global"].value=e),placeholder:"Keyword Search",class:"w-10rem"},null,8,["modelValue"])]),(0,o.QD)("span",null,[(0,o.K2)(p,{modelValue:u.selectedStatus,"onUpdate:modelValue":a[1]||(a[1]=e=>u.selectedStatus=e),options:u.statusfilter,placeholder:"Select a City",class:"w-full md:w-9rem ml-2"},null,8,["modelValue","options"])])]),(0,o.K2)(y,{ref:"dt",filters:u.filters,value:u.formData,selectionMode:"single",onRowSelect:a[2]||(a[2]=e=>m.showModal("edit",e.data)),responsiveLayout:"scroll",sortField:"id",sortOrder:1,paginator:!0,rows:15,rowsPerPageOptions:[15,20,30],removableSort:"",dataKey:"id","onUpdate:filters":a[3]||(a[3]=e=>u.filters=e),filterDisplay:"row"},{default:(0,o.Ql)((()=>[(0,o.K2)(f,{field:"id",header:"Form ID"}),(0,o.K2)(f,{field:"attributes.namalengkap",header:"Nama Lengkap"}),(0,o.K2)(f,{field:"attributes.namapemilik",header:"Nama Pemilik"}),(0,o.K2)(f,{field:"attributes.unitlantaiblok",header:"Lantai-Blok-NoUnit"}),(0,o.K2)(f,{field:"attributes.brand",header:"Brand"}),(0,o.K2)(f,{field:"attributes.status",header:"Status"},{body:(0,o.Ql)((e=>[(0,o.K2)(b,{modelValue:e.data.attributes.status,"onUpdate:modelValue":a=>e.data.attributes.status=a},null,8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1},8,["filters","value"]),(0,o.K2)(h,{displayModal:u.displayModal,"onUpdate:displayModal":a[4]||(a[4]=e=>u.displayModal=e),form:u.selectedForm,"onUpdate:form":a[5]||(a[5]=e=>u.selectedForm=e),refreshList:m.getAllForms,action:u.action},null,8,["displayModal","form","refreshList","action"])])}var u=t(4432),m=t(5160),c=t(2340),p=t(6960),f=t(9140),b=t(8331),y=t(1147),h=t(9096);const g={class:"p-m-0"},x={class:"text-ggi-red"},v={ref:"form"},C={class:"formgrid grid"},D=(0,o.QD)("div",{class:"field col-12 md:col-10"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Data Pelanggan")],-1),V={class:"field col-12 md:col-2"},T=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Status")],-1),w={class:"field col-12 md:col-6"},Q=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Nama Lengkap:")],-1),k={class:"field col-12 md:col-6"},U=(0,o.QD)("label",{for:"email"},"Email",-1),F={class:"field col-12 md:col-6"},P=(0,o.QD)("label",{for:"noktp"},"NoKTP",-1),K={class:"field col-12 md:col-6"},I=(0,o.QD)("label",{for:"noktp"},"NoTelp/HP",-1),A={class:"field col-12 md:col-12"},S=(0,o.QD)("label",{for:"alamatpemasang"},"Alamat Pemasang",-1),M={class:"field col-12 md:col-4"},B=(0,o.QD)("label",{for:"kelpemasang"},"Kelurahan Pemasang",-1),$={class:"field col-12 md:col-4"},N=(0,o.QD)("label",{for:"kecpemasang"},"Kecamatan Pemasang",-1),R={class:"field col-12 md:col-4"},z=(0,o.QD)("label",{for:"pospemasang"},"POS Pemasang",-1),E={class:"field col-12 md:col-12"},L=(0,o.QD)("label",{for:"alamattagihan"},"Alamat Tagihan",-1),O={class:"field col-12 md:col-4"},H=(0,o.QD)("label",{for:"keltagihan"},"Kelurahan Tagihan",-1),j={class:"field col-12 md:col-4"},_=(0,o.QD)("label",{for:"kectagihan"},"Kecamatan Tagihan",-1),W={class:"field col-12 md:col-4"},G=(0,o.QD)("label",{for:"postagihan"},"POS Tagihan",-1),J=(0,o.QD)("div",{class:"field col-12 md:col-12"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Daya Listrik")],-1),Y=(0,o.QD)("div",{class:"field col-12 md:col-3"},[(0,o.QD)("h3",{class:"flex align-items-center justify-content-center text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Daya Lama (VA)")],-1),q={class:"field col-12 md:col-3"},X=(0,o.QD)("label",{for:"norek"},"Phase",-1),Z={class:"field col-12 md:col-3"},ee=(0,o.QD)("label",{for:"norek"},"Amp",-1),ae={class:"field col-12 md:col-3"},te=(0,o.QD)("label",{for:"norek"},"VA",-1),oe=(0,o.QD)("div",{class:"field col-12 md:col-3"},[(0,o.QD)("h3",{class:"flex align-items-center justify-content-center text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Daya Baru (VA)")],-1),le={class:"field col-12 md:col-3"},re=(0,o.QD)("label",{for:"norek"},"Phase",-1),se={class:"field col-12 md:col-3"},ne=(0,o.QD)("label",{for:"norek"},"Amp",-1),ie={class:"field col-12 md:col-3"},de=(0,o.QD)("label",{for:"norek"},"VA",-1),ue={class:"field col-12 md:col-12"},me=(0,o.QD)("label",{for:"norek"},"Biaya",-1),ce=(0,o.QD)("div",{class:"field col-12 md:col-12"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Lokasi")],-1),pe={class:"field col-12 md:col-4"},fe=(0,o.QD)("label",{for:"merekModem"},"Nama Pemilik / Penyewa",-1),be={class:"field col-12 md:col-4"},ye=(0,o.QD)("label",{for:"serialnumber"},"Unit (Lantai, Blok & No)",-1),he={class:"field col-12 md:col-4"},ge=(0,o.QD)("label",{for:"serialnumber"},"Brand",-1),xe=(0,o.QD)("div",{class:"field col-12 md:col-12"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Infomrasi Penambahan Daya")],-1),ve={class:"field col-12 md:col-6"},Ce=(0,o.QD)("label",{for:"namainstaller"},"Nama Installer",-1),De={class:"field col-12 md:col-6"},Ve=(0,o.QD)("label",{for:"serialnumber"},"Tanggal Pemasang",-1),Te=(0,o.QD)("div",{class:"field col-12 md:col-12"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Infomrasi Pemutusan")],-1),we={class:"field col-12 md:col-6"},Qe=(0,o.QD)("label",{for:"namainstaller"},"Nama Installer",-1),ke={class:"field col-12 md:col-6"},Ue=(0,o.QD)("label",{for:"serialnumber"},"Tanggal Pemutusan",-1),Fe=(0,o.QD)("div",{class:"field col-12 md:col-12"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Informasi Printing")],-1),Pe={class:"field col-12 md:col-3"},Ke=(0,o.QD)("label",{for:"namainstaller"},"Nama Tenant Relation",-1),Ie={class:"field col-12 md:col-3"},Ae=(0,o.QD)("label",{for:"namainstaller"},"Nama IT",-1),Se={class:"field col-12 md:col-3"},Me=(0,o.QD)("label",{for:"namainstaller"},"Nama Management",-1),Be={class:"field col-12 md:col-3"},$e=(0,o.QD)("label",null,"Tanggal Print",-1),Ne={class:"flex justify-content-between flex-wrap"},Re={class:"flex"},ze={class:"flex"},Ee=["src"];function Le(e,a,t,l,r,s){const n=(0,o.E1)("Button"),i=(0,o.E1)("Dropdown"),d=(0,o.E1)("InputText"),u=(0,o.E1)("Textarea"),m=(0,o.E1)("InputNumber"),c=(0,o.E1)("Calendar"),p=(0,o.E1)("ConfirmDialog"),f=(0,o.E1)("Dialog");return(0,o.Wz)(),(0,o.An)(o.ae,null,[(0,o.K2)(f,{visible:t.displayModal,modal:!0,closable:!1,style:{width:"90vh"}},{header:(0,o.Ql)((()=>[(0,o.QD)("h3",g,[(0,o.QD)("span",x,"Edit Customer Form Number # "+(0,h.WA)(t.form.id),1)]),(0,o.K2)(n,{label:"Close",icon:"pi pi-times",class:"button-rounded button-text ml-auto button-secondary",onClick:s.handleClose},null,8,["onClick"])])),footer:(0,o.Ql)((()=>[(0,o.QD)("div",Ne,[(0,o.QD)("div",Re,[(0,o.K2)(n,{label:"Print",icon:"pi pi-print",onClick:a[31]||(a[31]=e=>s.fillForm())}),(0,o.K2)(n,{label:"View KTP",icon:"pi pi-image",onClick:s.viewKTP},null,8,["onClick"])]),(0,o.QD)("div",ze,[(0,o.K2)(n,{label:"edit"==t.action?"Save":"Add Document",icon:"edit"==t.action?"pi pi-save":"pi pi-plus",onClick:a[32]||(a[32]=e=>s.handleSubmit(t.action))},null,8,["label","icon"])])]),(0,o.K2)(p)])),default:(0,o.Ql)((()=>[(0,o.QD)("form",v,[(0,o.QD)("div",C,[D,(0,o.QD)("div",V,[T,(0,o.K2)(i,{modelValue:s.formCopy.attributes.status,"onUpdate:modelValue":a[0]||(a[0]=e=>s.formCopy.attributes.status=e),options:r.statusoptions,class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue","options"])]),(0,o.QD)("div",w,[Q,(0,o.K2)(d,{id:"namalengkap",modelValue:s.formCopy.attributes.namalengkap,"onUpdate:modelValue":a[1]||(a[1]=e=>s.formCopy.attributes.namalengkap=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",k,[U,(0,o.K2)(d,{id:"email",modelValue:s.formCopy.attributes.email,"onUpdate:modelValue":a[2]||(a[2]=e=>s.formCopy.attributes.email=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",F,[P,(0,o.K2)(d,{id:"noktp",modelValue:s.formCopy.attributes.noktp,"onUpdate:modelValue":a[3]||(a[3]=e=>s.formCopy.attributes.noktp=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",K,[I,(0,o.K2)(d,{id:"noktp",modelValue:s.formCopy.attributes.notelp,"onUpdate:modelValue":a[4]||(a[4]=e=>s.formCopy.attributes.notelp=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",A,[S,(0,o.K2)(u,{id:"alamatpemasang",autoResize:"",rows:"2",modelValue:s.formCopy.attributes.alamatpemasang,"onUpdate:modelValue":a[5]||(a[5]=e=>s.formCopy.attributes.alamatpemasang=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",M,[B,(0,o.K2)(u,{id:"kelpemasang",autoResize:"",rows:"1",modelValue:s.formCopy.attributes.kelpemasang,"onUpdate:modelValue":a[6]||(a[6]=e=>s.formCopy.attributes.kelpemasang=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",$,[N,(0,o.K2)(u,{id:"kecpemasang",autoResize:"",rows:"1",modelValue:s.formCopy.attributes.kecpemasang,"onUpdate:modelValue":a[7]||(a[7]=e=>s.formCopy.attributes.kecpemasang=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",R,[z,(0,o.K2)(d,{id:"pospemasang",modelValue:s.formCopy.attributes.pospemasang,"onUpdate:modelValue":a[8]||(a[8]=e=>s.formCopy.attributes.pospemasang=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",E,[L,(0,o.K2)(u,{id:"alamattagihan",autoResize:"",rows:"2",modelValue:s.formCopy.attributes.alamattagihan,"onUpdate:modelValue":a[9]||(a[9]=e=>s.formCopy.attributes.alamattagihan=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",O,[H,(0,o.K2)(u,{id:"keltagihan",autoResize:"",rows:"1",modelValue:s.formCopy.attributes.keltagihan,"onUpdate:modelValue":a[10]||(a[10]=e=>s.formCopy.attributes.keltagihan=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",j,[_,(0,o.K2)(u,{id:"kectagihan",autoResize:"",rows:"1",modelValue:s.formCopy.attributes.kectagihan,"onUpdate:modelValue":a[11]||(a[11]=e=>s.formCopy.attributes.kectagihan=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",W,[G,(0,o.K2)(d,{id:"postagihan",modelValue:s.formCopy.attributes.postagihan,"onUpdate:modelValue":a[12]||(a[12]=e=>s.formCopy.attributes.postagihan=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),J,Y,(0,o.QD)("div",q,[X,(0,o.K2)(m,{modelValue:s.formCopy.attributes.dlPhase,"onUpdate:modelValue":a[13]||(a[13]=e=>s.formCopy.attributes.dlPhase=e),class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",Z,[ee,(0,o.K2)(m,{modelValue:s.formCopy.attributes.dlAmp,"onUpdate:modelValue":a[14]||(a[14]=e=>s.formCopy.attributes.dlAmp=e),class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",ae,[te,(0,o.K2)(m,{modelValue:s.formCopy.attributes.dlVA,"onUpdate:modelValue":a[15]||(a[15]=e=>s.formCopy.attributes.dlVA=e),class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),oe,(0,o.QD)("div",le,[re,(0,o.K2)(m,{modelValue:s.formCopy.attributes.dbPhase,"onUpdate:modelValue":a[16]||(a[16]=e=>s.formCopy.attributes.dbPhase=e),class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",se,[ne,(0,o.K2)(m,{modelValue:s.formCopy.attributes.dbAmp,"onUpdate:modelValue":a[17]||(a[17]=e=>s.formCopy.attributes.dbAmp=e),class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",ie,[de,(0,o.K2)(m,{modelValue:s.formCopy.attributes.dbVA,"onUpdate:modelValue":a[18]||(a[18]=e=>s.formCopy.attributes.dbVA=e),class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",ue,[me,(0,o.K2)(u,{autoResize:"",rows:"2",modelValue:s.formCopy.attributes.biaya,"onUpdate:modelValue":a[19]||(a[19]=e=>s.formCopy.attributes.biaya=e),class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),ce,(0,o.QD)("div",pe,[fe,(0,o.K2)(d,{id:"merekModem",modelValue:s.formCopy.attributes.namapemilik,"onUpdate:modelValue":a[20]||(a[20]=e=>s.formCopy.attributes.namapemilik=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",be,[ye,(0,o.K2)(d,{id:"serialnumber",modelValue:s.formCopy.attributes.unitlantaiblok,"onUpdate:modelValue":a[21]||(a[21]=e=>s.formCopy.attributes.unitlantaiblok=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",he,[ge,(0,o.K2)(d,{id:"serialnumber",modelValue:s.formCopy.attributes.brand,"onUpdate:modelValue":a[22]||(a[22]=e=>s.formCopy.attributes.brand=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),xe,(0,o.QD)("div",ve,[Ce,(0,o.K2)(d,{id:"namainstaller",modelValue:s.formCopy.attributes.namainstaller,"onUpdate:modelValue":a[23]||(a[23]=e=>s.formCopy.attributes.namainstaller=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",De,[Ve,(0,o.K2)(c,{id:"serialnumber",modelValue:s.formCopy.attributes.tglPenambahan,"onUpdate:modelValue":a[24]||(a[24]=e=>s.formCopy.attributes.tglPenambahan=e),showButtonBar:"",showIcon:"",dateFormat:"yy-mm-dd",class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),Te,(0,o.QD)("div",we,[Qe,(0,o.K2)(d,{id:"namainstaller",modelValue:s.formCopy.attributes.namainstallerpemutusan,"onUpdate:modelValue":a[25]||(a[25]=e=>s.formCopy.attributes.namainstallerpemutusan=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",ke,[Ue,(0,o.K2)(c,{id:"serialnumber",modelValue:s.formCopy.attributes.tglPemutusan,"onUpdate:modelValue":a[26]||(a[26]=e=>s.formCopy.attributes.tglPemutusan=e),showButtonBar:"",showIcon:"",dateFormat:"yy-mm-dd",class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),Fe,(0,o.QD)("div",Pe,[Ke,(0,o.K2)(d,{id:"namainstaller",modelValue:s.formCopy.attributes.tenant,"onUpdate:modelValue":a[27]||(a[27]=e=>s.formCopy.attributes.tenant=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",Ie,[Ae,(0,o.K2)(d,{id:"namainstaller",modelValue:s.formCopy.attributes.it,"onUpdate:modelValue":a[28]||(a[28]=e=>s.formCopy.attributes.it=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",Se,[Me,(0,o.K2)(d,{id:"namainstaller",modelValue:s.formCopy.attributes.management,"onUpdate:modelValue":a[29]||(a[29]=e=>s.formCopy.attributes.management=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",Be,[$e,(0,o.K2)(c,{modelValue:s.formCopy.attributes.tglPrint,"onUpdate:modelValue":a[30]||(a[30]=e=>s.formCopy.attributes.tglPrint=e),showButtonBar:"",showIcon:"",dateFormat:"yy-mm-dd",class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])])])],512)])),_:1},8,["visible"]),(0,o.K2)(f,{visible:r.imageDialogVisible,closable:!1,style:{width:"50vh"}},{header:(0,o.Ql)((()=>[(0,o.K2)(n,{label:"Print",icon:"pi pi-print",class:"button-rounded button-text mr-auto button-secondary",onClick:s.printImage},null,8,["onClick"]),(0,o.K2)(n,{label:"Close",icon:"pi pi-times",class:"button-rounded button-text ml-auto button-secondary",onClick:s.hideImageDialog},null,8,["onClick"])])),default:(0,o.Ql)((()=>[(0,o.QD)("img",{src:r.imageSrc,alt:"Image Preview",style:{"max-width":"100%","max-height":"100%"}},null,8,Ee)])),_:1},8,["visible"])],64)}t(2168),t(5104),t(8312);var Oe=t(100),He=t(3952),je=t(8830),_e=t(5556),We=t(6592),Ge=t(2332),Je=t(3592),Ye=t.p+"assets/pdf/DayaMarchandForm.pdf";let qe=new c.c;var Xe={components:{Dialog:Oe.c,Button:je.c,ConfirmDialog:He.c,InputText:p.c,Textarea:_e.c,Calendar:Ge.c,InputNumber:We.c,Dropdown:f.c},props:["displayModal","form","refreshList","action"],res:null,data(){return{options:["False","True"],statusoptions:["Batal","Aktif"],imageDialogVisible:!1,imageSrc:""}},methods:{viewKTP(){this.formCopy.attributes.imgurl?this.openImagePopup():this.$toast.add({severity:"warn",summary:"No KTP",detail:"The KTP image is not available.",life:3e3})},printImage(){const e=new Image;e.onload=()=>{const a=document.createElement("canvas"),t=a.getContext("2d");a.width=e.width,a.height=e.height,t.drawImage(e,0,0);const o=a.toDataURL(),l=window.open("","_blank");l.document.write("<html><head><title>Print Image</title>"),l.document.write("<style>@media print { img { width: 50%; height: auto; } }</style>"),l.document.write("</head><body>"),l.document.write(`<img src="${o}" onload="window.print();">`),l.document.write("</body></html>"),l.document.close()},e.src=`/img/MarchandImages/${this.formCopy.attributes.imgurl}`},openImagePopup(){this.imageSrc=`/img/MarchandImages/${this.formCopy.attributes.imgurl}`,this.imageDialogVisible=!0},hideImageDialog(){this.imageDialogVisible=!1},async fillForm(){try{let e;e=await fetch(Ye).then((e=>e.arrayBuffer()));const a=await Je.PDFDocument.load(e),t=a.getForm(),o=JSON.stringify(this.form.id),l=this.form.attributes.tglPenambahan,[r,s,n]=l.split("-"),i=this.form.attributes.tglPemutusan,[d,u,m]=i.split("-"),c=this.form.attributes.tglPrint,[p,f,b]=c.split("-"),y=this.form.attributes.alamatpemasang,h=this.form.attributes.alamattagihan,g=30;let x,v,C,D;y.length<=g?(x=y,v=""):(x=y.substr(0,g),v=y.substr(g,g)),h.length<=g?(C=h,D=""):(C=h.substr(0,g),D=h.substr(g,g));const V=this.form.attributes.biaya,T=23;let w,Q;V.length<=T?(w=V,Q=""):(w=V.substr(0,T),Q=V.substr(T,T)),t.getTextField("no").setText(o),t.getTextField("namalengkap").setText(this.form.attributes.namalengkap.toUpperCase()??""),t.getTextField("ktp").setText(this.form.attributes.notelp.toUpperCase()??""),t.getTextField("notelp").setText(this.form.attributes.noktp.toUpperCase()??""),t.getTextField("alamat").setText(x.toUpperCase()??""),t.getTextField("alamat1").setText(v.toUpperCase()),t.getTextField("alamat2").setText(C.toUpperCase()??""),t.getTextField("alamat3").setText(D.toUpperCase()??""),t.getTextField("kel").setText(this.form.attributes.kelpemasang.toUpperCase()??""),t.getTextField("kec").setText(this.form.attributes.kecpemasang.toUpperCase()??""),t.getTextField("pos").setText(this.form.attributes.pospemasang.toUpperCase()??""),t.getTextField("kel1").setText(this.form.attributes.keltagihan.toUpperCase()??""),t.getTextField("kec1").setText(this.form.attributes.kectagihan.toUpperCase()??""),t.getTextField("pos1").setText(this.form.attributes.postagihan.toUpperCase()??""),t.getTextField("email").setText(this.form.attributes.email.toUpperCase()??""),t.getTextField("installer").setText(this.form.attributes.namainstaller.toUpperCase()??""),t.getTextField("phase").setText(this.form.attributes.dlPhase.toUpperCase()??""),t.getTextField("amp").setText(this.form.attributes.dlAmp.toUpperCase()??""),t.getTextField("va").setText(this.form.attributes.dlVA.toUpperCase()??""),t.getTextField("phase1").setText(this.form.attributes.dbPhase.toUpperCase()??""),t.getTextField("amp1").setText(this.form.attributes.dbAmp.toUpperCase()??""),t.getTextField("va1").setText(this.form.attributes.dbVA.toUpperCase()??""),t.getTextField("biaya").setText(w.toUpperCase()??""),t.getTextField("biaya1").setText(Q.toUpperCase()??""),t.getTextField("year").setText(r??""),t.getTextField("bln").setText(s??""),t.getTextField("day").setText(n??""),t.getTextField("installer1").setText(this.form.attributes.namainstallerpemutusan.toUpperCase()??""),t.getTextField("year1").setText(d??""),t.getTextField("bln1").setText(u??""),t.getTextField("day1").setText(m??""),t.getTextField("year2").setText(p??""),t.getTextField("bln2").setText(f??""),t.getTextField("day2").setText(b??""),t.getTextField("bintaro").setText("BINTARO"),t.getTextField("tenant").setText(this.form.attributes.tenant.toUpperCase()??""),t.getTextField("it").setText(this.form.attributes.it.toUpperCase()??""),t.getTextField("management").setText(this.form.attributes.management.toUpperCase()??""),t.getTextField("namapemilik1").setText(this.form.attributes.namapemilik.toUpperCase()??""),t.getTextField("namapemilik").setText(this.form.attributes.namapemilik.toUpperCase()??""),t.getTextField("lokasiunit").setText(this.form.attributes.unitlantaiblok.toUpperCase()??""),t.getTextField("lokasibrand").setText(this.form.attributes.brand.toUpperCase()??"");const k=await a.save(),U=new Blob([k],{type:"application/pdf"}),F=URL.createObjectURL(U);window.open(F,"_blank"),URL.revokeObjectURL(F)}catch(e){console.error("Error while processing PDF:",e)}},handleClose(){this.$emit("update:form",null),this.$emit("update:displayModal",!1),this.imageDialogVisible=!1},async handleSubmit(){try{if(this.formCopy.attributes.tglPenambahan){const e=new Date(this.formCopy.attributes.tglPenambahan);e.setHours(e.getHours()+7),this.formCopy.attributes.tglPenambahan=e.toISOString()}if(this.formCopy.attributes.tglPemutusan){var e=new Date(this.formCopy.attributes.tglPemutusan);e.setHours(e.getHours()+7),this.formCopy.attributes.tglPemutusan=e.toISOString()}if(this.formCopy.attributes.tglPrint){var a=new Date(this.formCopy.attributes.tglPrint);a.setHours(a.getHours()+7),this.formCopy.attributes.tglPrint=a.toISOString()}let t={...this.formCopy.attributes},o=this.formCopy.id,l=null,r={data:t};l=await qe.dayaMarchand.updateByID(o,r),this.handleClose(),this.refreshList(),console.log(l),this.$toast.add({severity:"success",summary:"Form Update Success",detail:`Form #${l.data.data.id} has been saved`,life:3e3})}catch(t){console.error("Error while saving form:",t)}}},computed:{formCopy(){return{...this.form}}}},Ze=t(4100);const ea=(0,Ze.c)(Xe,[["render",Le]]);var aa=ea,ta=new c.c,oa={components:{DataTable:u.c,Column:m.c,InputText:p.c,formModal:aa,StatusTag:y.c,Dropdown:f.c},data(){return{formData:null,internetRate:null,action:null,selectedInternet:null,selectedForm:null,role:null,displayModal:!1,statuses:["Batal","Aktif"],statusfilter:["Semua","Batal","Aktif"],selectedStatus:"Semua",filters:{global:{value:null,matchMode:b.yI.CONTAINS},"attributes.status":{value:null,matchMode:b.yI.EQUALS}}}},created(){this.getAllForms()},watch:{selectedStatus(e){"Semua"!==e?(this.filters["attributes.status"].value=e,this.getAllForms()):(this.filters["attributes.status"].value=null,this.getAllForms())}},methods:{async getAllForms(){try{let e=await ta.dayaMarchand.findAll();this.formData=e.data.data}catch(e){console.log(e)}},async showModal(e,a){this.action=e,this.selectedForm=a,this.displayModal=!0}}};const la=(0,Ze.c)(oa,[["render",d]]);var ra=la}}]);
//# sourceMappingURL=456.js.map