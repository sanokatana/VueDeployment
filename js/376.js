"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[376],{4376:function(e,t,a){a.r(t),a.d(t,{default:function(){return Ye}});var o=a(4108);const l={class:"col-12 offset-10"},r=(0,o.QD)("div",{class:"flex justify-content-between align-items-center"},[(0,o.QD)("h1",{class:"text-ggi-red"},"Panel Form - Pengambilan Refund Deposit Fitout")],-1),s={class:"flex justify-content-start mb-4"},n={class:"p-input-icon-left"},i=(0,o.QD)("i",{class:"pi pi-search"},null,-1);function d(e,t,a,d,u,c){const m=(0,o.E1)("Button"),f=(0,o.E1)("InputText"),p=(0,o.E1)("Dropdown"),b=(0,o.E1)("Column"),h=(0,o.E1)("StatusTag"),y=(0,o.E1)("DataTable"),g=(0,o.E1)("formModal");return(0,o.Wz)(),(0,o.An)("div",l,[r,(0,o.QD)("div",s,[(0,o.QD)("span",null,[(0,o.K2)(m,{autoRezise:"false",label:"Create",icon:"pi pi-plus",onClick:t[0]||(t[0]=e=>c.showModal("new")),class:"mr-2"})]),(0,o.QD)("span",n,[i,(0,o.K2)(f,{modelValue:u.filters["global"].value,"onUpdate:modelValue":t[1]||(t[1]=e=>u.filters["global"].value=e),placeholder:"Keyword Search",class:"w-10rem"},null,8,["modelValue"])]),(0,o.QD)("span",null,[(0,o.K2)(p,{modelValue:u.selectedStatus,"onUpdate:modelValue":t[2]||(t[2]=e=>u.selectedStatus=e),options:u.statusfilter,class:"w-full md:w-9rem ml-2"},null,8,["modelValue","options"])])]),(0,o.K2)(y,{ref:"formModal",value:u.formData,selection:u.selectedForm,"onUpdate:selection":t[3]||(t[3]=e=>u.selectedForm=e),selectionMode:"single",onRowSelect:c.handleRowSelect,responsiveLayout:"scroll",sortField:"id",sortOrder:1,paginator:!0,rows:15,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",rowsPerPageOptions:[15,20,30],removableSort:"",dataKey:"id",filters:u.filters,"onUpdate:filters":t[4]||(t[4]=e=>u.filters=e),filterDisplay:"row"},{default:(0,o.Ql)((()=>[(0,o.K2)(b,{field:"id",header:"Form ID",showFilterMenu:!1}),(0,o.K2)(b,{field:"attributes.namatoko",header:"Nama Toko",showFilterMenu:!1}),(0,o.K2)(b,{field:"attributes.lantai",header:"Lantai-Unit",showFilterMenu:!1}),(0,o.K2)(b,{field:"attributes.namapenyewa",header:"Nama Penyewa",showFilterMenu:!1}),(0,o.K2)(b,{field:"attributes.statustenant",header:"Status Toko",showFilterMenu:!1}),(0,o.K2)(b,{field:"attributes.status",header:"Status"},{body:(0,o.Ql)((e=>[(0,o.K2)(h,{modelValue:e.data.attributes.status,"onUpdate:modelValue":t=>e.data.attributes.status=t},null,8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1},8,["value","selection","onRowSelect","filters"]),u.displayModal?((0,o.Wz)(),(0,o.Az)(g,{key:0,ref:"formModalRef",displayModal:u.displayModal,"onUpdate:displayModal":t[5]||(t[5]=e=>u.displayModal=e),form:u.selectedForm,"onUpdate:form":t[6]||(t[6]=e=>u.selectedForm=e),refreshList:c.getAllForms,action:u.action},null,8,["displayModal","form","refreshList","action"])):(0,o.g1)("",!0)])}var u=a(4432),c=a(5160),m=a(2340),f=a(8830),p=a(9140),b=a(1147),h=a(6960),y=a(8331),g=a(9096);const D={key:0,class:"m-0"},x=(0,o.QD)("span",{class:"text-dgas-red"},"Edit Document ",-1),w=[x],v={key:1,class:"m-0"},k={class:"text-ggi-red"},C={ref:"form"},Q={class:"formgrid grid"},F=(0,o.QD)("div",{class:"field col-12 md:col-10"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Surat Permohonan Izin Buka Toko")],-1),T={class:"field col-12 md:col-2"},V=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Status")],-1),M={class:"field col-12 md:col-2"},K=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Pada hari ini")],-1),U={class:"field col-12 md:col-2"},S=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Tanggal")],-1),A={class:"field col-12 md:col-2"},R=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Bulan")],-1),E={class:"field col-12 md:col-3"},P=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Tahun")],-1),B={class:"field col-12 md:col-3"},I=(0,o.QD)("label",null,"Date",-1),L=(0,o.QD)("div",{class:"field col-12 md:col-12"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Yang bertandatangan di bawah ini menyatakan BENAR bahwa telah diadakan pembahasan dan pemeriksaan bersama mengenai kelayakan buka toko sebagai berikut:")],-1),$={class:"field col-12 md:col-6"},z=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Nama toko : ")],-1),N={class:"field col-12 md:col-6"},j=(0,o.QD)("label",null,"Lantai / Unit",-1),O={class:"field col-12 md:col-6"},W=(0,o.QD)("label",null,"Nama Pemilik / Penyewa",-1),_={class:"field col-12 md:col-6"},H=(0,o.QD)("label",null,"Status Toko:",-1),J=(0,o.QD)("div",null,[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Surat Permohonan Izin Buka Toko")],-1),G={class:"field col-12 md:col-12"},Y=(0,o.QD)("div",{class:"field col-12 md:col-12"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Sesuai Dengan Hasil Pemeriksaan dan Pembahasan tersebut, maka ketentuan Security Deposit Fitout adalah:")],-1),q={class:"field col-12 md:col-3 flex flex-wrap justify-content-center align-content-center"},X=(0,o.QD)("div",{class:"field col-12 md:col-5 flex flex-wrap align-content-center"},[(0,o.QD)("label",null," Dikembalikan sebesar: ")],-1),Z={class:"field col-12 md:col-4"},ee={class:"field col-12 md:col-3 flex flex-wrap justify-content-center align-content-center"},te=(0,o.QD)("div",{class:"field col-12 md:col-5 flex flex-wrap align-content-center"},[(0,o.QD)("label",null," Dipotong karena ada kerusakan dan hal lain: ")],-1),ae={class:"field col-12 md:col-4"},oe={class:"field col-12 md:col-3"},le=(0,o.QD)("label",null,"Tenant Relation",-1),re={class:"field col-12 md:col-3"},se=(0,o.QD)("label",null,"Tenant",-1),ne={class:"field col-12 md:col-3"},ie=(0,o.QD)("label",null,"Finance Manager",-1),de={class:"field col-12 md:col-3"},ue=(0,o.QD)("label",null,"Management",-1),ce={class:"flex justify-content-between flex-wrap"},me={class:"flex"},fe={class:"flex"};function pe(e,t,a,l,r,s){const n=(0,o.E1)("Button"),i=(0,o.E1)("Dropdown"),d=(0,o.E1)("InputText"),u=(0,o.E1)("Calendar"),c=(0,o.E1)("Column"),m=(0,o.E1)("DataTable"),f=(0,o.E1)("Checkbox"),p=(0,o.E1)("InputNumber"),b=(0,o.E1)("ConfirmDialog"),h=(0,o.E1)("Dialog"),y=(0,o.E1)("formMod");return(0,o.Wz)(),(0,o.An)(o.ae,null,[(0,o.K2)(h,{visible:a.displayModal,modal:!0,closable:!1,style:{width:"90vh"}},{header:(0,o.Ql)((()=>[a.form.id?((0,o.Wz)(),(0,o.An)("h3",D,w)):((0,o.Wz)(),(0,o.An)("h3",v,[(0,o.QD)("span",k,"Edit Customer Form Number # "+(0,g.WA)(a.form.id),1)])),(0,o.K2)(n,{label:"Close",icon:"pi pi-times",class:"button-rounded button-text ml-auto button-secondary",onClick:s.handleClose},null,8,["onClick"])])),footer:(0,o.Ql)((()=>[(0,o.QD)("div",ce,[(0,o.QD)("div",me,[(0,o.K2)(n,{label:"Print",icon:"pi pi-print",onClick:t[21]||(t[21]=e=>s.fillForm())})]),(0,o.QD)("div",fe,[(0,o.K2)(n,{label:"edit"==a.action?"Save":"Add Document",icon:"edit"==a.action?"pi pi-save":"pi pi-plus",onClick:t[22]||(t[22]=e=>s.handleSubmit(a.action))},null,8,["label","icon"])])]),(0,o.K2)(b)])),default:(0,o.Ql)((()=>[(0,o.QD)("form",C,[(0,o.QD)("div",Q,[F,(0,o.QD)("div",T,[V,(0,o.K2)(i,{modelValue:s.formCopy.attributes.status,"onUpdate:modelValue":t[0]||(t[0]=e=>s.formCopy.attributes.status=e),options:r.statusoptions,class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue","options"])]),(0,o.QD)("div",M,[K,(0,o.K2)(d,{id:"name",modelValue:s.formCopy.attributes.hari,"onUpdate:modelValue":t[1]||(t[1]=e=>s.formCopy.attributes.hari=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",U,[S,(0,o.K2)(d,{id:"name",modelValue:s.formCopy.attributes.tanggal,"onUpdate:modelValue":t[2]||(t[2]=e=>s.formCopy.attributes.tanggal=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",A,[R,(0,o.K2)(d,{id:"name",modelValue:s.formCopy.attributes.bulan,"onUpdate:modelValue":t[3]||(t[3]=e=>s.formCopy.attributes.bulan=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",E,[P,(0,o.K2)(d,{id:"name",modelValue:s.formCopy.attributes.tahun,"onUpdate:modelValue":t[4]||(t[4]=e=>s.formCopy.attributes.tahun=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",B,[I,(0,o.K2)(u,{modelValue:s.formCopy.attributes.tgl,"onUpdate:modelValue":t[5]||(t[5]=e=>s.formCopy.attributes.tgl=e),showButtonBar:"",showIcon:"",dateFormat:"yy-mm-dd",class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),L,(0,o.QD)("div",$,[z,(0,o.K2)(d,{id:"name",modelValue:s.formCopy.attributes.namatoko,"onUpdate:modelValue":t[6]||(t[6]=e=>s.formCopy.attributes.namatoko=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",N,[j,(0,o.K2)(d,{id:"alamat",modelValue:s.formCopy.attributes.lantai,"onUpdate:modelValue":t[7]||(t[7]=e=>s.formCopy.attributes.lantai=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",O,[W,(0,o.K2)(d,{id:"alamat",modelValue:s.formCopy.attributes.namapenyewa,"onUpdate:modelValue":t[8]||(t[8]=e=>s.formCopy.attributes.namapenyewa=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",_,[H,(0,o.K2)(i,{id:"status",modelValue:s.formCopy.attributes.statustenant,"onUpdate:modelValue":t[9]||(t[9]=e=>s.formCopy.attributes.statustenant=e),options:r.statusOptionsToko,class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue","options"])]),J,(0,o.QD)("div",G,[(0,o.QD)("span",null,[(0,o.K2)(n,{autoRezise:"false",label:"Create",icon:"pi pi-plus",onClick:t[10]||(t[10]=e=>s.showModal("new")),class:"mr-2"})]),(0,o.K2)(m,{value:r.filteredForms,selection:r.selectForm,"onUpdate:selection":t[11]||(t[11]=e=>r.selectForm=e),selectionMode:"single",onRowSelect:t[12]||(t[12]=e=>s.showModal("edit")),responsiveLayout:"scroll",sortField:"id",sortOrder:1,paginator:!0,rows:10},{default:(0,o.Ql)((()=>[(0,o.K2)(c,{field:"attributes.deskripsi",header:"Deskripsi"}),(0,o.K2)(c,{field:"attributes.comment",header:"Comment"})])),_:1},8,["value","selection"])]),Y,(0,o.QD)("div",q,[(0,o.K2)(f,{modelValue:s.formCopy.attributes.kembali,"onUpdate:modelValue":t[13]||(t[13]=e=>s.formCopy.attributes.kembali=e),binary:!0,class:"justify-content-center text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),X,(0,o.QD)("div",Z,[(0,o.K2)(p,{modelValue:s.formCopy.attributes.rpkembali,"onUpdate:modelValue":t[14]||(t[14]=e=>s.formCopy.attributes.rpkembali=e),mode:"currency",currency:"IDR",class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",ee,[(0,o.K2)(f,{modelValue:s.formCopy.attributes.potong,"onUpdate:modelValue":t[15]||(t[15]=e=>s.formCopy.attributes.potong=e),binary:!0,class:"justify-content-center text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),te,(0,o.QD)("div",ae,[(0,o.K2)(p,{modelValue:s.formCopy.attributes.rppotong,"onUpdate:modelValue":t[16]||(t[16]=e=>s.formCopy.attributes.rppotong=e),mode:"currency",currency:"IDR",class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",oe,[le,(0,o.K2)(d,{modelValue:s.formCopy.attributes.tenantrelation,"onUpdate:modelValue":t[17]||(t[17]=e=>s.formCopy.attributes.tenantrelation=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",re,[se,(0,o.K2)(d,{modelValue:s.formCopy.attributes.tenant,"onUpdate:modelValue":t[18]||(t[18]=e=>s.formCopy.attributes.tenant=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",ne,[ie,(0,o.K2)(d,{modelValue:s.formCopy.attributes.finance,"onUpdate:modelValue":t[19]||(t[19]=e=>s.formCopy.attributes.finance=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",de,[ue,(0,o.K2)(d,{modelValue:s.formCopy.attributes.management,"onUpdate:modelValue":t[20]||(t[20]=e=>s.formCopy.attributes.management=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])])])],512)])),_:1},8,["visible"]),(0,o.K2)(y,{dispModal:r.dispModal,"onUpdate:dispModal":t[23]||(t[23]=e=>r.dispModal=e),form:r.selectForm,"onUpdate:form":t[24]||(t[24]=e=>r.selectForm=e),formRow:s.formCopy,"onUpdate:formRow":t[25]||(t[25]=e=>s.formCopy=e),refreshList:s.getAllFormulirs,act:r.act},null,8,["dispModal","form","formRow","refreshList","act"])],64)}a(2168),a(5104),a(8312);var be=a(100),he=a(3952),ye=a(6592),ge=a(2112),De=a(2332);const xe={key:0,class:"m-0"},we={class:"text-dgas-red"},ve={key:1,class:"m-0"},ke=(0,o.QD)("span",{class:"text-ggi-red"},"Create Row ",-1),Ce=[ke],Qe={ref:"form"},Fe={class:"formgrid grid"},Te={class:"field col-12 md:col-12"},Ve=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Deskripsi")],-1),Me={class:"field col-12 md:col-12"},Ke=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Comment")],-1),Ue={class:"p-d-flex p-jc-between p-ai-center"},Se={class:"p-text-left"};function Ae(e,t,a,l,r,s){const n=(0,o.E1)("Button"),i=(0,o.E1)("InputText"),d=(0,o.E1)("ConfirmDialog"),u=(0,o.E1)("Dialog");return(0,o.Wz)(),(0,o.Az)(u,{visible:a.dispModal,modal:!0,closable:!1,style:{width:"90vh"}},{header:(0,o.Ql)((()=>[a.form.id?((0,o.Wz)(),(0,o.An)("h3",xe,[(0,o.QD)("span",we,"Edit Row - "+(0,g.WA)(a.form.attributes.deskripsi),1)])):((0,o.Wz)(),(0,o.An)("h3",ve,Ce)),(0,o.K2)(n,{label:"Close",icon:"pi pi-times",class:"button-rounded button-text ml-auto button-secondary",onClick:s.handleClose},null,8,["onClick"])])),footer:(0,o.Ql)((()=>[(0,o.QD)("div",Ue,[(0,o.QD)("div",Se,[(0,o.K2)(n,{label:"edit"==a.act?"Save":"Add Row",icon:"edit"==a.act?"pi pi-save":"pi pi-plus",onClick:t[2]||(t[2]=t=>s.handleSubmit(e.action))},null,8,["label","icon"])])]),(0,o.K2)(d)])),default:(0,o.Ql)((()=>[(0,o.QD)("form",Qe,[(0,o.QD)("div",Fe,[(0,o.QD)("div",Te,[Ve,(0,o.K2)(i,{id:"name",modelValue:s.formCopy.attributes.deskripsi,"onUpdate:modelValue":t[0]||(t[0]=e=>s.formCopy.attributes.deskripsi=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",Me,[Ke,(0,o.K2)(i,{id:"name",modelValue:s.formCopy.attributes.comment,"onUpdate:modelValue":t[1]||(t[1]=e=>s.formCopy.attributes.comment=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])])])],512)])),_:1},8,["visible"])}let Re=new m.c;var Ee={components:{Dialog:be.c,Button:f.c,ConfirmDialog:he.c,InputText:h.c},props:["dispModal","form","refreshList","act","formRow"],res:null,data(){return{}},methods:{handleClose(){this.$emit("update:form",null),this.$emit("update:dispModal",!1)},async handleSubmit(){try{const e=this.formCopy1.id;let t={...this.formCopy.attributes,PengambilanMarchandID:{id:e}},a=this.formCopy.id,o=null,l={data:t};null==this.form.id?(o=await Re.pengambilanTable.newEntry(l),console.log(o)):o=await Re.pengambilanTable.updateByID(a,l),this.handleClose(),this.refreshList(),this.$toast.add({severity:"success",summary:"Form Update Success",detail:`Form #${o.data.data.id} has been saved`,life:3e3})}catch(e){console.error("Error while saving form:",e)}}},computed:{formCopy(){return{...this.form}},formCopy1(){return{...this.formRow}}}},Pe=a(4100);const Be=(0,Pe.c)(Ee,[["render",Ae]]);var Ie=Be,Le=a(884),$e=a.n(Le),ze=a(3592),Ne=a.p+"assets/pdf/PengambilanSecurity.pdf";let je=new m.c;var Oe={components:{Dialog:be.c,Button:f.c,ConfirmDialog:he.c,InputText:h.c,Dropdown:p.c,Calendar:De.c,DataTable:u.c,Column:c.c,formMod:Ie,Checkbox:ge.c,InputNumber:ye.c},props:["displayModal","form","refreshList","action"],res:null,data(){return{act:null,selectForm:null,dispModal:!1,selectedFormId:null,statusOptionsToko:["Tenant Buka Toko","Tenant Renovasi Toko","Lainnya"],statusoptions:["Batal","Aktif"],filteredForms:[]}},mounted(){this.getAllFormulirs()},methods:{formatPrice(e){const t=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".");return`${t},-`},async fillForm(){try{let e=await fetch(Ne).then((e=>e.arrayBuffer()));const t=await ze.PDFDocument.load(e),a=t.getForm();let o,l,r;if(a.getTextField("hari").setText(this.form.attributes.hari??""),a.getTextField("tanggal").setText(this.form.attributes.tanggal??""),a.getTextField("bulan").setText(this.form.attributes.bulan??""),a.getTextField("tahun").setText(this.form.attributes.tahun??""),this.form.attributes.tgl){const e=this.formCopy.attributes.tgl;[o,l,r]=e.split("-")}a.getTextField("year").setText(o),a.getTextField("month").setText(l),a.getTextField("day").setText(r),a.getTextField("namatoko").setText(this.form.attributes.namatoko??""),a.getTextField("namapenyewa").setText(this.form.attributes.namapenyewa??""),a.getTextField("lantai").setText(this.form.attributes.lantai??""),"Tenant Buka Toko"==this.form.attributes.statustenant?a.getCheckBox("bukatoko").check():"Tenant Renovasi Toko"==this.form.attributes.statustenant?a.getCheckBox("renovasitoko").check():a.getCheckBox("lainnya").check();for(let d=0;d<this.filteredForms.length;d++){const e=this.filteredForms[d].attributes;a.getTextField(`deskripsi${d}`).setText(e.deskripsi),a.getTextField(`comment${d}`).setText(e.comment)}this.form.attributes.kembali&&a.getCheckBox("dikembalikan").check(),this.form.attributes.potong&&a.getCheckBox("dipotong").check(),a.getTextField("rpkembalikan").setText(this.formatPrice(this.form.attributes.rpkembali??"")),a.getTextField("rppotong").setText(this.formatPrice(this.form.attributes.rppotong??"")),a.getTextField("tenantrelation").setText(this.form.attributes.tenantrelation??""),a.getTextField("tenant").setText(this.form.attributes.tenant??""),a.getTextField("finance").setText(this.form.attributes.finance??""),a.getTextField("tanggal1").setText(this.changeDateFormat(this.form.attributes.tgl)),a.getTextField("management").setText(this.form.attributes.management??"");const s=await t.save(),n=new Blob([s],{type:"application/pdf"}),i=URL.createObjectURL(n);window.open(i,"_blank"),URL.revokeObjectURL(i)}catch(e){console.error("Error while processing PDF:",e)}},changeDateFormat(e){const t=["January","February","March","April","May","June","July","August","September","October","November","December"],a=e.split("-");if(3===a.length){const e=a[2],o=t[parseInt(a[1],10)-1],l=a[0];return`${e} ${o} ${l}`}return e},async callGetAllFormulirs(){try{await this.getAllFormulirs()}catch(e){console.log(e)}},async getAllFormulirs(){try{let e=$e().stringify({populate:"PengambilanMarchandID"}),t=await je.pengambilanTable.findAll(e);this.filterInternet(t.data.data)}catch(e){console.log(e)}},filterInternet(e){this.filteredForms=e.filter((e=>{const t=e.attributes.PengambilanMarchandID.data;return t&&t.id===this.formCopy.id}))},showModal(e){this.act=e,"new"==e&&(this.selectForm={id:null,attributes:{}}),this.dispModal=!0},handleClose(){this.$emit("update:form",null),this.$emit("update:displayModal",!1)},async handleSubmit(){try{const e=new Date(this.formCopy.attributes.tgl);e.setHours(e.getHours()+7),this.formCopy.attributes.tgl=e.toISOString();let t={...this.formCopy.attributes},a=this.formCopy.id,o=null,l={data:t};o=null==this.form.id?await je.pengambilanRefund.newEntry(l):await je.pengambilanRefund.updateByID(a,l),this.handleClose(),this.refreshList(),this.$toast.add({severity:"success",summary:"Form Update Success",detail:`Form #${o.data.data.id} has been saved`,life:3e3})}catch(e){console.error("Error while saving form:",e)}}},computed:{formCopy(){return{...this.form}}}};const We=(0,Pe.c)(Oe,[["render",pe]]);var _e=We,He=new m.c,Je={components:{DataTable:u.c,Column:c.c,InputText:h.c,formModal:_e,Button:f.c,Dropdown:p.c,StatusTag:b.c},data(){return{formData:null,action:null,selectedForm:null,displayModal:!1,statuses:["Batal","Aktif"],statusfilter:["Semua","Batal","Aktif"],selectedStatus:"Semua",filters:{global:{value:null,matchMode:y.yI.CONTAINS},"attributes.status":{value:null,matchMode:y.yI.EQUALS}}}},created(){this.getAllForms()},watch:{selectedStatus(e){"Semua"!==e?(this.filters["attributes.status"].value=e,this.getAllForms()):(this.filters["attributes.status"].value=null,this.getAllForms())}},methods:{async getAllForms(){try{let e=await He.pengambilanRefund.findAll();this.formData=e.data.data}catch(e){console.log(e)}},handleRowSelect(){this.showModal("edit"),this.$refs.formModalRef&&this.$refs.formModalRef.callGetAllFormulirs()},showModal(e){this.action=e,"new"==e&&(this.selectedForm={id:null,attributes:{}}),this.displayModal=!0}}};const Ge=(0,Pe.c)(Je,[["render",d]]);var Ye=Ge}}]);
//# sourceMappingURL=376.js.map