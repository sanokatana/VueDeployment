"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[560],{3740:function(e,t,a){a.d(t,{c:function(){return d}});var o=a(1368),l=a(7988),r=a(9435),n={root:"p-blockui-container"},s=r.c.extend({name:"blockui",classes:n}),i=a(4108),u={name:"BaseBlockUI",extends:l.c,props:{blocked:{type:Boolean,default:!1},fullScreen:{type:Boolean,default:!1},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0}},style:s,provide:function(){return{$parentInstance:this}}},d={name:"BlockUI",extends:u,emits:["block","unblock"],mask:null,data:function(){return{isBlocked:!1}},watch:{blocked:function(e){!0===e?this.block():this.unblock()}},mounted:function(){this.blocked&&this.block()},methods:{block:function(){var e="p-blockui p-component-overlay p-component-overlay-enter";this.fullScreen?(e+=" p-blockui-document",this.mask=o.kP.createElement("div",{style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%"},class:!this.isUnstyled&&e,"p-bind":this.ptm("mask")}),document.body.appendChild(this.mask),o.kP.blockBodyScroll(),document.activeElement.blur()):(this.mask=o.kP.createElement("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},class:!this.isUnstyled&&e,"p-bind":this.ptm("mask")}),this.$refs.container.appendChild(this.mask)),this.autoZIndex&&o.eI.set("modal",this.mask,this.baseZIndex+this.$primevue.config.zIndex.modal),this.isBlocked=!0,this.$emit("block")},unblock:function(){var e=this;!this.isUnstyled&&o.kP.addClass(this.mask,"p-component-overlay-leave"),o.kP.hasCSSAnimation(this.mask)>0?this.mask.addEventListener("animationend",(function(){e.removeMask()})):this.removeMask()},removeMask:function(){o.eI.clear(this.mask),this.fullScreen?(document.body.removeChild(this.mask),o.kP.unblockBodyScroll()):this.$refs.container.removeChild(this.mask),this.isBlocked=!1,this.$emit("unblock")}}},c=["aria-busy"];function m(e,t,a,o,l,r){return(0,i.Wz)(),(0,i.An)("div",(0,i.Gu)({ref:"container",class:e.cx("root"),"aria-busy":l.isBlocked},e.ptm("root")),[(0,i.oF)(e.$slots,"default")],16,c)}d.render=m},5556:function(e,t,a){a.d(t,{c:function(){return u}});var o=a(7988),l=a(9435),r={root:function(e){var t=e.instance,a=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":t.filled,"p-inputtextarea-resizable ":a.autoResize,"p-invalid":a.invalid,"p-variant-filled":a.variant?"filled"===a.variant:"filled"===t.$primevue.config.inputStyle}]}},n=l.c.extend({name:"textarea",classes:r}),s=a(4108),i={name:"BaseTextarea",extends:o.c,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:n,provide:function(){return{$parentInstance:this}}},u={name:"Textarea",extends:i,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return null!=this.modelValue&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||""===this.$attrs.disabled}}}}},d=["value"];function c(e,t,a,o,l,r){return(0,s.Wz)(),(0,s.An)("textarea",(0,s.Gu)({class:e.cx("root"),value:e.modelValue,onInput:t[0]||(t[0]=function(){return r.onInput&&r.onInput.apply(r,arguments)})},e.ptm("root",r.ptmParams)),null,16,d)}u.render=c},7016:function(e,t,a){a.d(t,{c:function(){return m}});var o=a(8038),l=a(1368),r=a(7988),n=a(9435),s={root:function(e){var t=e.instance,a=e.props;return["p-togglebutton p-component",{"p-disabled":a.disabled,"p-highlight":t.active,"p-invalid":a.invalid}]},input:"p-togglebutton-input",box:function(e){var t=e.instance;return["p-button p-component",{"p-button-icon-only":t.hasIcon&&!t.hasLabel}]},icon:function(e){var t=e.instance,a=e.props;return["p-button-icon",{"p-button-icon-left":"left"===a.iconPos&&t.label,"p-button-icon-right":"right"===a.iconPos&&t.label}]},label:"p-button-label"},i=n.c.extend({name:"togglebutton",classes:s}),u=a(4108),d=a(9096),c={name:"BaseToggleButton",extends:r.c,props:{modelValue:Boolean,onIcon:String,offIcon:String,onLabel:{type:String,default:"Yes"},offLabel:{type:String,default:"No"},iconPos:{type:String,default:"left"},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:i,provide:function(){return{$parentInstance:this}}},m={name:"ToggleButton",extends:c,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){return this.ptm(e,{context:{active:this.active,disabled:this.disabled}})},onChange:function(e){this.disabled||this.readonly||(this.$emit("update:modelValue",!this.modelValue),this.$emit("change",e))},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{active:function(){return!0===this.modelValue},hasLabel:function(){return l.Yv.isNotEmpty(this.onLabel)&&l.Yv.isNotEmpty(this.offLabel)},hasIcon:function(){return this.$slots.icon||this.onIcon&&this.offIcon},label:function(){return this.hasLabel?this.modelValue?this.onLabel:this.offLabel:"&nbsp;"}},directives:{ripple:o.c}},p=["data-p-highlight","data-p-disabled"],f=["id","value","checked","tabindex","disabled","readonly","aria-labelledby","aria-label"];function b(e,t,a,o,l,r){var n=(0,u.iS)("ripple");return(0,u.Wz)(),(0,u.An)("div",(0,u.Gu)({class:e.cx("root")},r.getPTOptions("root"),{"data-p-highlight":r.active,"data-p-disabled":e.disabled}),[(0,u.QD)("input",(0,u.Gu)({id:e.inputId,type:"checkbox",role:"switch",class:[e.cx("input"),e.inputClass],style:e.inputStyle,value:e.modelValue,checked:r.active,tabindex:e.tabindex,disabled:e.disabled,readonly:e.readonly,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onFocus:t[0]||(t[0]=function(){return r.onFocus&&r.onFocus.apply(r,arguments)}),onBlur:t[1]||(t[1]=function(){return r.onBlur&&r.onBlur.apply(r,arguments)}),onChange:t[2]||(t[2]=function(){return r.onChange&&r.onChange.apply(r,arguments)})},r.getPTOptions("input")),null,16,f),(0,u.wt)(((0,u.Wz)(),(0,u.An)("div",(0,u.Gu)({class:e.cx("box")},r.getPTOptions("box")),[(0,u.oF)(e.$slots,"icon",{value:e.modelValue,class:(0,d.WN)(e.cx("icon"))},(function(){return[e.onIcon||e.offIcon?((0,u.Wz)(),(0,u.An)("span",(0,u.Gu)({key:0,class:[e.cx("icon"),e.modelValue?e.onIcon:e.offIcon]},r.getPTOptions("icon")),null,16)):(0,u.g1)("",!0)]})),(0,u.QD)("span",(0,u.Gu)({class:e.cx("label")},r.getPTOptions("label")),(0,d.WA)(r.label),17)],16)),[[n]])],16,p)}m.render=b},3560:function(e,t,a){a.r(t),a.d(t,{default:function(){return Ze}});var o=a(4108),l=a(9096);const r={class:"col-12 offset-10"},n=(0,o.QD)("div",{class:"flex justify-content-between align-items-center"},[(0,o.QD)("h1",{class:"text-ggi-red"},"Panel Form - Formulir Jadwal Pengecekan Akhir Pembangunan / Renovasi")],-1),s={class:"flex justify-content-start mb-4"},i={class:"p-input-icon-left"},u=(0,o.QD)("i",{class:"pi pi-search"},null,-1);function d(e,t,a,d,c,m){const p=(0,o.E1)("Button"),f=(0,o.E1)("InputText"),b=(0,o.E1)("Dropdown"),h=(0,o.E1)("BlockUI"),y=(0,o.E1)("Column"),g=(0,o.E1)("StatusTag"),k=(0,o.E1)("DataTable"),x=(0,o.E1)("formModal");return(0,o.Wz)(),(0,o.An)("div",r,[n,(0,o.QD)("div",s,[(0,o.QD)("span",null,[(0,o.K2)(p,{autoRezise:"false",label:"Create",icon:"pi pi-plus",onClick:t[0]||(t[0]=e=>m.showModal("new")),class:"mr-2"})]),(0,o.QD)("span",i,[u,(0,o.K2)(f,{modelValue:c.filters["global"].value,"onUpdate:modelValue":t[1]||(t[1]=e=>c.filters["global"].value=e),placeholder:"Keyword Search",class:"w-10rem"},null,8,["modelValue"])]),(0,o.QD)("span",null,[(0,o.K2)(b,{modelValue:c.selectedStatus,"onUpdate:modelValue":t[2]||(t[2]=e=>c.selectedStatus=e),options:c.statusfilter,class:"w-full md:w-9rem ml-2"},null,8,["modelValue","options"])]),(0,o.K2)(h,{blocked:"superadmin"!=this.role},{default:(0,o.Ql)((()=>[(0,o.QD)("span",null,[(0,o.K2)(b,{modelValue:c.selectedProject,"onUpdate:modelValue":t[3]||(t[3]=e=>c.selectedProject=e),options:c.projectfilter,placeholder:"Project",class:"w-full md:w-9rem ml-2"},null,8,["modelValue","options"])])])),_:1},8,["blocked"])]),(0,o.K2)(k,{value:c.formData,selection:c.selectedForm,"onUpdate:selection":t[4]||(t[4]=e=>c.selectedForm=e),selectionMode:"single",onRowSelect:t[5]||(t[5]=e=>m.showModal("edit")),responsiveLayout:"scroll",sortField:"id",sortOrder:1,paginator:!0,rows:15,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",rowsPerPageOptions:[15,20,30],removableSort:"",dataKey:"id",filters:c.filters,"onUpdate:filters":t[6]||(t[6]=e=>c.filters=e),filterDisplay:"row"},{default:(0,o.Ql)((()=>[(0,o.K2)(y,{field:"attributes.formid",header:"Form ID",showFilterMenu:!1}),(0,o.K2)(y,{field:"attributes.name",header:"Nama Pemilik",showFilterMenu:!1}),(0,o.K2)(y,{field:"attributes.cluster",header:"Cluster",showFilterMenu:!1}),(0,o.K2)(y,{field:"attributes.blok",header:"Blok / No. Unit",showFilterMenu:!1}),(0,o.K2)(y,{field:"attributes.luastanah",header:"Luas Tanah / Bangunan",showFilterMenu:!1}),(0,o.K2)(y,{field:"attributes.status",header:"Status"},{body:(0,o.Ql)((e=>[(0,o.K2)(g,{modelValue:e.data.attributes.status,"onUpdate:modelValue":t=>e.data.attributes.status=t},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,o.K2)(y,{field:"attributes.project",header:"Project"},{body:(0,o.Ql)((e=>[(0,o.QD)("span",null,(0,l.WA)(m.getStatusText(e.data.attributes.project)),1)])),_:1})])),_:1},8,["value","selection","filters"]),(0,o.K2)(x,{displayModal:c.displayModal,"onUpdate:displayModal":t[7]||(t[7]=e=>c.displayModal=e),form:c.selectedForm,"onUpdate:form":t[8]||(t[8]=e=>c.selectedForm=e),refreshList:m.getAllForms,action:c.action},null,8,["displayModal","form","refreshList","action"])])}var c=a(4432),m=a(5160),p=a(2340),f=a(8830),b=a(9140),h=a(3740),y=a(1147),g=a(6960),k=a(8331);const x={key:0,class:"m-0"},v=(0,o.QD)("span",{class:"text-dgas-red"},"Edit Document ",-1),D=[v],w={key:1,class:"m-0"},C=(0,o.QD)("span",{class:"text-dgas-red"},"Create Document",-1),Q=[C],V={ref:"form"},T={class:"formgrid grid"},F=(0,o.QD)("div",{class:"field col-12 md:col-8"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Bersama ini saya pemilik Bangunan di Mazenta Residence")],-1),P={class:"field col-12 md:col-4"},B=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Status")],-1),S={class:"field col-12 md:col-4"},I=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Nama Pemilik")],-1),U={class:"field col-12 md:col-4"},A=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Cluster:")],-1),K={class:"field col-12 md:col-4"},$=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Blok/No.Unit:")],-1),j={class:"field col-12 md:col-6"},L=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Type Unit:")],-1),M={class:"field col-12 md:col-6"},z=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Luas Tanah/ Bangunan")],-1),E=(0,o.QD)("div",{class:"field col-12 md:col-12"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Telah bersedia melakukan pengecekan bersama akhir pembangunan/Renovasi sebagai kelengkapan dari persyaratan pencairan Uang Jaminan/Deposit, Pada :")],-1),R={class:"field col-12 md:col-4"},N=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Hari")],-1),O={class:"field col-12 md:col-4"},W=(0,o.QD)("label",null,"Tanggal : ",-1),H={class:"field col-12 md:col-4"},G=(0,o.QD)("label",null,"Waktu : ",-1),J=(0,o.QD)("div",{class:"field col-12 md:col-12"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Berdasarkan hasil pengecekan dinyatakan :")],-1),_=(0,o.QD)("div",{class:"field col-12 md:col-4"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Kategori")],-1),Y=(0,o.QD)("div",{class:"field col-12 md:col-4"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Ada / Tidak Ada")],-1),Z=(0,o.QD)("div",{class:"field col-12 md:col-4"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Keterangan")],-1),q=(0,o.QD)("div",{class:"field col-12 md:col-4"},[(0,o.QD)("label",null,[(0,o.QD)("span",null,"Kerusakan di unit sebelah pemilik")])],-1),X={class:"field col-12 md:col-4"},ee={class:"field col-12 md:col-4"},te=(0,o.QD)("div",{class:"field col-12 md:col-4"},[(0,o.QD)("label",null,[(0,o.QD)("span",null,"Kerusakan di area publik sekitar unit pemilik")])],-1),ae={class:"field col-12 md:col-4"},oe={class:"field col-12 md:col-4"},le={class:"field col-12 md:col-12"},re=(0,o.QD)("h4",{class:"font-italic"},"Catatan",-1),ne=(0,o.QD)("div",{class:"field col-12 md:col-8"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Akibat kerusakan tersebut Pemilik Bangunan dikenakan denda sebesar Rp. :")],-1),se={class:"field col-12 md:col-4"},ie=(0,o.QD)("div",{class:"field col-12 md:col-8"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Total Pengembalian sebesar Rp. :")],-1),ue={class:"field col-12 md:col-4"},de=(0,o.QD)("div",{class:"field col-12 md:col-12"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Pengembalian Uang Jaminan/Deposit di Transfer ke Rekening :")],-1),ce={class:"field col-12 md:col-3"},me=(0,o.QD)("label",null,"Nama Pemilik Rekening: ",-1),pe={class:"field col-12 md:col-3"},fe=(0,o.QD)("label",null,"Bank: ",-1),be={class:"field col-12 md:col-3"},he=(0,o.QD)("label",null,"No. Rekening: ",-1),ye={class:"field col-12 md:col-3"},ge=(0,o.QD)("label",null,"Cabang: ",-1),ke=(0,o.QD)("div",{class:"field col-12 md:col-12"},[(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Untuk Print :")],-1),xe={class:"field col-12 md:col-4"},ve=(0,o.QD)("label",null,"Tanggal Print",-1),De={class:"field col-12 md:col-4"},we=(0,o.QD)("label",null,"Badan Pengelola/Management Estate",-1),Ce={class:"field col-12 md:col-4"},Qe=(0,o.QD)("label",null,"Petugas Pengecekan",-1),Ve={class:"flex justify-content-between flex-wrap"},Te={class:"flex"},Fe={class:"flex"};function Pe(e,t,a,l,r,n){const s=(0,o.E1)("Button"),i=(0,o.E1)("Dropdown"),u=(0,o.E1)("InputText"),d=(0,o.E1)("Calendar"),c=(0,o.E1)("ToggleButton"),m=(0,o.E1)("Textarea"),p=(0,o.E1)("InputNumber"),f=(0,o.E1)("ConfirmDialog"),b=(0,o.E1)("Dialog");return(0,o.Wz)(),(0,o.Az)(b,{visible:a.displayModal,modal:!0,closable:!1,style:{width:"90vh"}},{header:(0,o.Ql)((()=>[a.form.id?((0,o.Wz)(),(0,o.An)("h3",x,D)):((0,o.Wz)(),(0,o.An)("h3",w,Q)),(0,o.K2)(s,{label:"Close",icon:"pi pi-times",class:"button-rounded button-text ml-auto button-secondary",onClick:n.handleClose},null,8,["onClick"])])),footer:(0,o.Ql)((()=>[(0,o.QD)("div",Ve,[(0,o.QD)("div",Te,[(0,o.K2)(s,{label:"Print",icon:"pi pi-print",onClick:t[23]||(t[23]=e=>n.fillForm())})]),(0,o.QD)("div",Fe,[(0,o.K2)(s,{label:"edit"==a.action?"Save":"Add Document",icon:"edit"==a.action?"pi pi-save":"pi pi-plus",onClick:t[24]||(t[24]=e=>n.handleSubmit(a.action))},null,8,["label","icon"])])]),(0,o.K2)(f)])),default:(0,o.Ql)((()=>[(0,o.QD)("form",V,[(0,o.QD)("div",T,[F,(0,o.QD)("div",P,[B,(0,o.K2)(i,{modelValue:n.formCopy.attributes.status,"onUpdate:modelValue":t[0]||(t[0]=e=>n.formCopy.attributes.status=e),options:r.statusoptions,class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue","options"])]),(0,o.QD)("div",S,[I,(0,o.K2)(u,{id:"name",modelValue:n.formCopy.attributes.name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.formCopy.attributes.name=e),class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",U,[A,(0,o.K2)(u,{id:"name",modelValue:n.formCopy.attributes.cluster,"onUpdate:modelValue":t[2]||(t[2]=e=>n.formCopy.attributes.cluster=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",K,[$,(0,o.K2)(u,{id:"name",modelValue:n.formCopy.attributes.blok,"onUpdate:modelValue":t[3]||(t[3]=e=>n.formCopy.attributes.blok=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",j,[L,(0,o.K2)(u,{id:"name",modelValue:n.formCopy.attributes.type,"onUpdate:modelValue":t[4]||(t[4]=e=>n.formCopy.attributes.type=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",M,[z,(0,o.K2)(u,{id:"name",modelValue:n.formCopy.attributes.luastanah,"onUpdate:modelValue":t[5]||(t[5]=e=>n.formCopy.attributes.luastanah=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),E,(0,o.QD)("div",R,[N,(0,o.K2)(u,{id:"name",modelValue:n.formCopy.attributes.hari,"onUpdate:modelValue":t[6]||(t[6]=e=>n.formCopy.attributes.hari=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",O,[W,(0,o.K2)(d,{id:"terbilang",modelValue:n.formCopy.attributes.tgl,"onUpdate:modelValue":t[7]||(t[7]=e=>n.formCopy.attributes.tgl=e),dateFormat:"yy-mm-dd",showButtonBar:"",showIcon:"",view:"date",class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",H,[G,(0,o.K2)(d,{id:"terbilang",modelValue:n.formCopy.attributes.waktu,"onUpdate:modelValue":t[8]||(t[8]=e=>n.formCopy.attributes.waktu=e),timeOnly:"",showButtonBar:"",class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),J,_,Y,Z,q,(0,o.QD)("div",X,[(0,o.K2)(c,{modelValue:n.formCopy.attributes.kerusakanunitbool,"onUpdate:modelValue":t[9]||(t[9]=e=>n.formCopy.attributes.kerusakanunitbool=e),binary:!0,class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",ee,[(0,o.K2)(u,{modelValue:n.formCopy.attributes.kerusakanunitketer,"onUpdate:modelValue":t[10]||(t[10]=e=>n.formCopy.attributes.kerusakanunitketer=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),te,(0,o.QD)("div",ae,[(0,o.K2)(c,{modelValue:n.formCopy.attributes.kerusakanareabool,"onUpdate:modelValue":t[11]||(t[11]=e=>n.formCopy.attributes.kerusakanareabool=e),binary:!0,class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",oe,[(0,o.K2)(u,{modelValue:n.formCopy.attributes.kerusakanareaketer,"onUpdate:modelValue":t[12]||(t[12]=e=>n.formCopy.attributes.kerusakanareaketer=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",le,[re,(0,o.K2)(m,{autoResize:"",rows:"4",modelValue:n.formCopy.attributes.catatan,"onUpdate:modelValue":t[13]||(t[13]=e=>n.formCopy.attributes.catatan=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),ne,(0,o.QD)("div",se,[(0,o.K2)(p,{modelValue:n.formCopy.attributes.kerusakandenda,"onUpdate:modelValue":t[14]||(t[14]=e=>n.formCopy.attributes.kerusakandenda=e),mode:"currency",currency:"IDR",class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),ie,(0,o.QD)("div",ue,[(0,o.K2)(p,{modelValue:n.formCopy.attributes.totalpengambilan,"onUpdate:modelValue":t[15]||(t[15]=e=>n.formCopy.attributes.totalpengambilan=e),mode:"currency",currency:"IDR",class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),de,(0,o.QD)("div",ce,[me,(0,o.K2)(u,{modelValue:n.formCopy.attributes.namarek,"onUpdate:modelValue":t[16]||(t[16]=e=>n.formCopy.attributes.namarek=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",pe,[fe,(0,o.K2)(u,{modelValue:n.formCopy.attributes.bank,"onUpdate:modelValue":t[17]||(t[17]=e=>n.formCopy.attributes.bank=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",be,[he,(0,o.K2)(p,{modelValue:n.formCopy.attributes.norek,"onUpdate:modelValue":t[18]||(t[18]=e=>n.formCopy.attributes.norek=e),useGrouping:!1,class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",ye,[ge,(0,o.K2)(u,{modelValue:n.formCopy.attributes.cabang,"onUpdate:modelValue":t[19]||(t[19]=e=>n.formCopy.attributes.cabang=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),ke,(0,o.QD)("div",xe,[ve,(0,o.K2)(d,{modelValue:n.formCopy.attributes.tglPrint,"onUpdate:modelValue":t[20]||(t[20]=e=>n.formCopy.attributes.tglPrint=e),showButtonBar:"",dateFormat:"yy-mm-dd",class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",De,[we,(0,o.K2)(u,{modelValue:n.formCopy.attributes.namamanagement,"onUpdate:modelValue":t[21]||(t[21]=e=>n.formCopy.attributes.namamanagement=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",Ce,[Qe,(0,o.K2)(u,{modelValue:n.formCopy.attributes.namapetugas,"onUpdate:modelValue":t[22]||(t[22]=e=>n.formCopy.attributes.namapetugas=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])])])],512)])),_:1},8,["visible"])}a(2168),a(5104),a(8312);var Be=a(100),Se=a(3952),Ie=a(2332),Ue=a(6716),Ae=a(6592),Ke=a(5556),$e=a(7016),je=a(3592),Le=a.p+"assets/pdf/JPAPForm.pdf",Me=a.p+"assets/pdf/JPAPFormBanara.pdf",ze=a(884),Ee=a.n(ze),Re=a.p+"assets/pdf/JPAPFormNaraya.pdf";let Ne=new p.c;var Oe={components:{Dialog:Be.c,Button:f.c,ConfirmDialog:Se.c,InputText:g.c,Calendar:Ie.c,InputNumber:Ae.c,Textarea:Ke.c,ToggleButton:$e.c,Dropdown:b.c},props:["displayModal","form","refreshList","action"],res:null,data(){return{statusoptions:["Batal","Aktif"]}},methods:{formatPrice(e){e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".");const t=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".");return`${t},-`},changeDataFormat(e){const t=e.split("-"),a=t[0],o=t[1],l=t[2];return`${l}-${o}-${a}`},async fillForm(){try{let e,t=this.formCopy.attributes.project,a=Ue.c.getters.getRole;"mazentaAdmin"!==a&&"superadmin"!==a||1!==t?"banaraAdmin"!==a&&"superadmin"!==a||2!==t?"narayaAdmin"!==a&&"superadmin"!==a||3!==t||(e=await fetch(Re).then((e=>e.arrayBuffer()))):e=await fetch(Me).then((e=>e.arrayBuffer())):e=await fetch(Le).then((e=>e.arrayBuffer()));const o=await je.PDFDocument.load(e),l=o.getForm();l.getTextField("cluster").setText(this.form.attributes.cluster??""),l.getTextField("blok").setText(this.form.attributes.blok??""),l.getTextField("type").setText(this.form.attributes.type??"");const r=l.getTextField("luastanah");if(r){const e=this.form.attributes.luastanah.split("/"),t=e.map((e=>`${e.trim()}²`)).join(" / ");r.setText(t)}l.getTextField("name").setText(this.form.attributes.name??""),l.getTextField("hari").setText(this.form.attributes.hari??"");const n=this.changeDataFormat(this.form.attributes.tgl??"");l.getTextField("tgl").setText(n??"");const s=this.form.attributes.waktu,[i,u]=s.split(":");l.getTextField("waktu").setText(i+":"+u??"");const d=l.getTextField("kerArea"),c=l.getTextField("kerUnit");1==this.form.attributes.kerusakanunitbool?c.setText("Ada"):c.setText("Tidak Ada"),1==this.form.attributes.kerusakanareabool?d.setText("Ada"):d.setText("Tidak Ada"),l.getTextField("keteranganUnit").setText(this.form.attributes.kerusakanunitketer??""),l.getTextField("keteranganArea").setText(this.form.attributes.kerusakanareaketer??""),l.getTextField("catatan").setText(this.form.attributes.catatan??"");const m=this.formatPrice(this.form.attributes.kerusakandenda),p=this.formatPrice(this.form.attributes.totalpengambilan);l.getTextField("kerusakandenda").setText(m??""),l.getTextField("totalpengambilan").setText(p??""),l.getTextField("namarek").setText(this.form.attributes.namarek??""),l.getTextField("bank").setText(this.form.attributes.bank??""),l.getTextField("norek").setText(this.form.attributes.norek??""),l.getTextField("cabang").setText(this.form.attributes.cabang??""),l.getTextField("bintaro").setText("BINTARO");const f=this.changeDataFormat(this.form.attributes.tglPrint);l.getTextField("tglPrint").setText(f??""),l.getTextField("namamanagement").setText(this.form.attributes.namamanagement??""),l.getTextField("namapetugas").setText(this.form.attributes.namapetugas??"");const b=await o.save(),h=new Blob([b],{type:"application/pdf"}),y=URL.createObjectURL(h);window.open(y,"_blank"),URL.revokeObjectURL(y)}catch(e){console.error("Error while processing PDF:",e)}},handleClose(){this.$emit("update:form",null),this.$emit("update:displayModal",!1)},async handleSubmit(){try{let e=Ue.c.getters.getRole;if("mazentaAdmin"==e){if(null==this.form.id){let e=Ee().stringify({filters:{project:{$eq:1}}}),t=await Ne.jpapForm.findAll(e);this.formID=t.data.meta,this.formCopy.attributes.formid=this.formID.pagination.total+1}this.formCopy.attributes.project=1}if("banaraAdmin"==e){if(null==this.form.id){let e=Ee().stringify({filters:{project:{$eq:2}}}),t=await Ne.jpapForm.findAll(e);this.formID=t.data.meta,this.formCopy.attributes.formid=this.formID.pagination.total+1}this.formCopy.attributes.project=2}if("narayaAdmin"==e){if(null==this.form.id){let e=Ee().stringify({filters:{project:{$eq:3}}}),t=await Ne.jpapForm.findAll(e);this.formID=t.data.meta,this.formCopy.attributes.formid=this.formID.pagination.total+1}this.formCopy.attributes.project=3}if(isNaN(new Date(this.formCopy.attributes.waktu)))this.formCopy.attributes.waktu;else{let e=new Date(this.formCopy.attributes.waktu),t=e.getHours().toString().padStart(2,"0"),a=e.getMinutes().toString().padStart(2,"0"),o=e.getSeconds().toString().padStart(2,"0");this.formCopy.attributes.waktu=`${t}:${a}:${o}`}const t=new Date(this.formCopy.attributes.tgl);t.setHours(t.getHours()+7),this.formCopy.attributes.tgl=t.toISOString();const a=new Date(this.formCopy.attributes.tglPrint);a.setHours(a.getHours()+7),this.formCopy.attributes.tglPrint=a.toISOString();let o={...this.formCopy.attributes},l=this.formCopy.id,r=null,n={data:o};r=null==this.form.id?await Ne.jpapForm.newEntry(n):await Ne.jpapForm.updateByID(l,n),this.handleClose(),this.refreshList(),console.log(r),this.$toast.add({severity:"success",summary:"Form Update Success",detail:`Form #${r.data.data.id} has been saved`,life:3e3})}catch(e){console.error("Error while saving form:",e)}}},computed:{formCopy(){return{...this.form}}}},We=a(4100);const He=(0,We.c)(Oe,[["render",Pe]]);var Ge=He,Je=new p.c,_e={components:{DataTable:c.c,Column:m.c,InputText:g.c,formModal:Ge,Button:f.c,Dropdown:b.c,StatusTag:y.c,BlockUI:h.c},data(){return{formData:null,action:null,selectedForm:null,role:Ue.c.getters.getRole,displayModal:!1,statuses:["Batal","Aktif"],statusfilter:["Semua","Batal","Aktif"],selectedStatus:"Semua",projectfilter:["Project","Mazenta","Banara","Naraya"],selectedProject:"Project",filters:{global:{value:null,matchMode:k.yI.CONTAINS},"attributes.status":{value:null,matchMode:k.yI.EQUALS},"attributes.project":{value:null,matchMode:k.yI.EQUALS}}}},created(){this.getAllForms()},watch:{selectedStatus(e){"Semua"!==e?(this.filters["attributes.status"].value=e,this.getAllForms()):(this.filters["attributes.status"].value=null,this.getAllForms())},selectedProject(e){"Project"!==e?("Mazenta"==e&&(this.filters["attributes.project"].value=1),"Banara"==e&&(this.filters["attributes.project"].value=2),"Naraya"==e&&(this.filters["attributes.project"].value=3),this.getAllForms()):(this.filters["attributes.project"].value=null,this.getAllForms())}},methods:{getStatusText(e){switch(e){case 1:return"Mazenta";case 2:return"Banara";case 3:return"Naraya";default:return""}},async getAllForms(){try{let e=await Je.jpapForm.findAll();this.filterInternet(e.data.data)}catch(e){console.log(e)}},filterInternet(e){let t=Ue.c.getters.getRole;this.formData=e.filter((e=>{const a=e.attributes.project;return"mazentaAdmin"==t?a&&1===a:"banaraAdmin"==t?a&&2===a:"narayaAdmin"==t?a&&3===a:"superadmin"==t?a:void 0}))},showModal(e){this.action=e,"new"==e&&(this.selectedForm={id:null,attributes:{}}),this.displayModal=!0}}};const Ye=(0,We.c)(_e,[["render",d]]);var Ze=Ye}}]);
//# sourceMappingURL=560.js.map