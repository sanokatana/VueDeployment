{"version":3,"file":"js/312.js","mappings":"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","sources":["webpack://client/./src/views/ProfilePage.vue","webpack://client/./src/views/ProfilePage.vue?ccbe"],"sourcesContent":["<template>\n    <div class=\"grid my-5 justify-content-center \">\n        <Card class=\"col-3\">\n            <template #title>\n                <h3 class=\"text-dgas-red my-0\">My Profile</h3>\n            </template>\n            <template #content>\n                <div class=\"fluid formgrid grid my-0 \">\n                    <span class=\"float-label field col-12 my-4\">\n                        <InputText v-model=\"fullname\" readonly />\n                        <label class=\"ml-2\">Full Name</label>\n                    </span>\n                    <span class=\"float-label field col-12 my-4\">\n                        <InputText v-model=\"username\" readonly />\n                        <label class=\"ml-2\">Username</label>\n                    </span>\n                    <span class=\"float-label field col-12 my-4\">\n                        <InputText v-model=\"email\" readonly />\n                        <label class=\"ml-2\">Email</label>\n                    </span>\n                </div>\n                <div class=\"flex my-3\">\n                    <Button label=\"Change Password\" icon=\"pi pi-lock\" @click=\"displayModal = true\" />\n                </div>\n            </template>\n        </Card>\n        <Dialog v-model:visible=\"displayModal\" :modal=\"true\" header=\"Change Your Password\" style=\"width: 50vh\">\n            <form @submit.prevent=\"\" class=\"formgrid grid my-0\">\n                <span class=\"field col-12 my-4\">\n                    <Password v-model=\"currentPass\" :feedback=\"false\" :toggleMask=\"true\"\n                        :class=\"{ 'p-invalid': !currentPass && isSubmitted }\" />\n                    <label class=\"ml-2\">Current Password</label>\n                </span>\n                <span class=\"field col-12 my-4\">\n                    <Password v-model=\"newPass\" :toggleMask=\"true\" :class=\"{ 'p-invalid': !newPass && isSubmitted }\" />\n                    <label class=\"ml-2\">New Password</label>\n                </span>\n                <span class=\"field col-12 my-4\">\n                    <Password v-model=\"confirmPass\" :toggleMask=\"true\"\n                        :class=\"{ 'p-invalid': !confirmPass && isSubmitted }\" />\n                    <label class=\"ml-2\">Confirm New Password</label>\n                </span>\n            </form>\n            <template #footer>\n                <Button label=\"Submit\" icon=\"pi pi-check\" @click=\"handlePassword()\" />\n            </template>\n        </Dialog>\n    </div>\n</template>\n\n<script>\nimport Dialog from 'primevue/dialog';\nimport InputText from 'primevue/inputtext';\nimport Card from 'primevue/card';\nimport Button from 'primevue/button';\nimport Password from 'primevue/password';\nimport Backend from '@/backend';\n\nvar backend = new Backend();\n\nexport default {\n    components: { Dialog, InputText, Card, Button, Password },\n    data() {\n        return {\n            fullname: this.$store.getters.getUser.fullname,\n            username: this.$store.getters.getUser.username,\n            email: this.$store.getters.getUser.email,\n            displayModal: false,\n            currentPass: null,\n            newPass: null,\n            confirmPass: null,\n            isSubmitted: false,\n            profileImg: null,\n            isLoading: false\n        }\n    },\n    watch: {\n        displayModal() {\n            this.currentPass = null;\n            this.newPass = null;\n            this.confirmPass = null;\n        }\n    },\n    methods: {\n        async handlePassword() {\n            this.isSubmitted = true;\n            try {\n                await backend.user.changePassword({ currentPassword: this.currentPass, password: this.newPass, passwordConfirmation: this.confirmPass })\n            } catch (err) {\n                console.log(err);\n                this.$toast.add({\n                    severity: 'error',\n                    summary: 'Change password failed',\n                    detail: '• Incorrect current password',\n                    life: 5000\n                });\n            } finally {\n                this.displayModal = false;\n                this.$toast.add({\n                    severity: 'success',\n                    summary: 'Change password successful!',\n                    detail: 'You can sign in with the new password next time',\n                    life: 3000\n                });\n            }\n        },\n        getErrors() {\n            let err = [];\n            this.v$.$silentErrors.map(error => err.push(`• ${error.$message}`));\n            this.$toast.add({\n                severity: 'error',\n                summary: 'Change password failed',\n                detail: err.join('\\n'),\n                life: 5000\n            });\n            return console.log(err);\n        }\n    },\n}\n</script>\n\n<style scoped>\n.profile-picture {\n    border-radius: 20px;\n}\n</style>","import { render } from \"./ProfilePage.vue?vue&type=template&id=ac376848&scoped=true\"\nimport script from \"./ProfilePage.vue?vue&type=script&lang=js\"\nexport * from \"./ProfilePage.vue?vue&type=script&lang=js\"\n\nimport \"./ProfilePage.vue?vue&type=style&index=0&id=ac376848&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ac376848\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_Card","title","_withCtx","_hoisted_2","content","_hoisted_3","_hoisted_4","_component_InputText","modelValue","$data","fullname","_cache","$event","readonly","_hoisted_5","_hoisted_6","username","_hoisted_7","_hoisted_8","email","_hoisted_9","_hoisted_10","_component_Button","label","icon","onClick","displayModal","_","_component_Dialog","visible","modal","header","style","footer","$options","handlePassword","default","onSubmit","_withModifiers","_hoisted_11","_component_Password","currentPass","feedback","toggleMask","_normalizeClass","isSubmitted","_hoisted_12","_hoisted_13","newPass","_hoisted_14","_hoisted_15","confirmPass","_hoisted_16","backend","Backend","components","Dialog","InputText","Card","Button","Password","data","this","$store","getters","getUser","profileImg","isLoading","watch","methods","user","changePassword","currentPassword","password","passwordConfirmation","err","console","log","$toast","add","severity","summary","detail","life","getErrors","v$","$silentErrors","map","error","push","$message","join","__exports__","render"],"sourceRoot":""}