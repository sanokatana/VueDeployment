"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[544],{9704:function(e){const t=["","ribu","juta","milyar","triliun","quadriliun","quintiliun","sextiliun","septiliun","oktiliun","noniliun","desiliun","undesiliun","duodesiliun","tredesiliun","quattuordesiliun","quindesiliun","sexdesiliun","septendesiliun","oktodesiliun","novemdesiliun","vigintiliun"],a=t.length-1;function l(e){const l=e/3;return l<=a?t[l]:t[a]}const o=["","satu","dua","tiga","empat","lima","enam","tujuh","delapan","sembilan"];function r(e){return o[e]||""}const i=e=>{const t=e.length,a=t-1;if(0===a&&0===Number(e[0]))return"nol";let o="",i="",n=0;while(n!==t){const t=a-n,s=t%3,u=Number(e[n]);if(3===t&&1===u&&(0===n||0===Number(e[n-2])&&0===Number(e[n-1])))i+=`${o}seribu`;else if(0!==u)if(0===s)i+=`${o}${r(u)}${n===a?"":" "}${l(t)}`;else if(2===s)i+=1===u?`${o}seratus`:`${o}${r(u)} ratus`;else if(1===u){n++;const a=Number(e[n]);0===a?(i+=`${o}sepuluh`,1===t||0===Number(e[n-2])&&0===Number(e[n-1])||(i+=` ${l(t-1)}`)):(i+=1===a?`${o}sebelas`:`${o}${r(a)} belas`,1!==t&&(i+=` ${l(t-1)}`))}else i+=`${o}${r(u)} puluh`;else 0!==s||0===Number(e[n-2])&&0===Number(e[n-1])||0===t||(i+=` ${l(t)}`);n<=1&&(o=" "),n++}return i},n=e=>e.split("").map((e=>0==e?"nol":r(e))).join(" ");e.exports=function(e,t={decimal:"."}){return"string"!==typeof e&&(e=String(e)),e.indexOf(t.decimal)>-1?(e=e.split(t.decimal),`${i(e[0])} koma ${n(e[1])}`):i(e)}},3740:function(e,t,a){a.d(t,{c:function(){return d}});var l=a(1368),o=a(7988),r=a(9435),i={root:"p-blockui-container"},n=r.c.extend({name:"blockui",classes:i}),s=a(4108),u={name:"BaseBlockUI",extends:o.c,props:{blocked:{type:Boolean,default:!1},fullScreen:{type:Boolean,default:!1},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0}},style:n,provide:function(){return{$parentInstance:this}}},d={name:"BlockUI",extends:u,emits:["block","unblock"],mask:null,data:function(){return{isBlocked:!1}},watch:{blocked:function(e){!0===e?this.block():this.unblock()}},mounted:function(){this.blocked&&this.block()},methods:{block:function(){var e="p-blockui p-component-overlay p-component-overlay-enter";this.fullScreen?(e+=" p-blockui-document",this.mask=l.kP.createElement("div",{style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%"},class:!this.isUnstyled&&e,"p-bind":this.ptm("mask")}),document.body.appendChild(this.mask),l.kP.blockBodyScroll(),document.activeElement.blur()):(this.mask=l.kP.createElement("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},class:!this.isUnstyled&&e,"p-bind":this.ptm("mask")}),this.$refs.container.appendChild(this.mask)),this.autoZIndex&&l.eI.set("modal",this.mask,this.baseZIndex+this.$primevue.config.zIndex.modal),this.isBlocked=!0,this.$emit("block")},unblock:function(){var e=this;!this.isUnstyled&&l.kP.addClass(this.mask,"p-component-overlay-leave"),l.kP.hasCSSAnimation(this.mask)>0?this.mask.addEventListener("animationend",(function(){e.removeMask()})):this.removeMask()},removeMask:function(){l.eI.clear(this.mask),this.fullScreen?(document.body.removeChild(this.mask),l.kP.unblockBodyScroll()):this.$refs.container.removeChild(this.mask),this.isBlocked=!1,this.$emit("unblock")}}},c=["aria-busy"];function m(e,t,a,l,o,r){return(0,s.Wz)(),(0,s.An)("div",(0,s.Gu)({ref:"container",class:e.cx("root"),"aria-busy":o.isBlocked},e.ptm("root")),[(0,s.oF)(e.$slots,"default")],16,c)}d.render=m},5556:function(e,t,a){a.d(t,{c:function(){return u}});var l=a(7988),o=a(9435),r={root:function(e){var t=e.instance,a=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":t.filled,"p-inputtextarea-resizable ":a.autoResize,"p-invalid":a.invalid,"p-variant-filled":a.variant?"filled"===a.variant:"filled"===t.$primevue.config.inputStyle}]}},i=o.c.extend({name:"textarea",classes:r}),n=a(4108),s={name:"BaseTextarea",extends:l.c,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:i,provide:function(){return{$parentInstance:this}}},u={name:"Textarea",extends:s,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return null!=this.modelValue&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||""===this.$attrs.disabled}}}}},d=["value"];function c(e,t,a,l,o,r){return(0,n.Wz)(),(0,n.An)("textarea",(0,n.Gu)({class:e.cx("root"),value:e.modelValue,onInput:t[0]||(t[0]=function(){return r.onInput&&r.onInput.apply(r,arguments)})},e.ptm("root",r.ptmParams)),null,16,d)}u.render=c},7544:function(e,t,a){a.r(t),a.d(t,{default:function(){return _e}});var l=a(4108),o=a(9096);const r={class:"col-12 offset-10"},i=(0,l.QD)("div",{class:"flex justify-content-between align-items-center"},[(0,l.QD)("h1",{class:"text-ggi-red"},"Panel Form - From Refund Deposit Renovasi Estate")],-1),n={class:"flex justify-content-start mb-4"},s={class:"p-input-icon-left"},u=(0,l.QD)("i",{class:"pi pi-search"},null,-1);function d(e,t,a,d,c,m){const p=(0,l.E1)("Button"),f=(0,l.E1)("InputText"),b=(0,l.E1)("Dropdown"),h=(0,l.E1)("BlockUI"),y=(0,l.E1)("Column"),g=(0,l.E1)("StatusTag"),x=(0,l.E1)("DataTable"),k=(0,l.E1)("formModal");return(0,l.Wz)(),(0,l.An)("div",r,[i,(0,l.QD)("div",n,[(0,l.QD)("span",null,[(0,l.K2)(p,{icon:"pi pi-external-link",label:"Export",onClick:t[0]||(t[0]=t=>e.exportCSV(t)),class:"mr-2"})]),(0,l.QD)("span",s,[u,(0,l.K2)(f,{modelValue:c.filters["global"].value,"onUpdate:modelValue":t[1]||(t[1]=e=>c.filters["global"].value=e),placeholder:"Keyword Search",class:"w-10rem"},null,8,["modelValue"])]),(0,l.QD)("span",null,[(0,l.K2)(b,{modelValue:c.selectedStatus,"onUpdate:modelValue":t[2]||(t[2]=e=>c.selectedStatus=e),options:c.statusfilter,placeholder:"Status",class:"w-full md:w-9rem ml-2"},null,8,["modelValue","options"])]),(0,l.K2)(h,{blocked:"superadmin"!=this.role},{default:(0,l.Ql)((()=>[(0,l.QD)("span",null,[(0,l.K2)(b,{modelValue:c.selectedProject,"onUpdate:modelValue":t[3]||(t[3]=e=>c.selectedProject=e),options:c.projectfilter,placeholder:"Project",class:"w-full md:w-9rem ml-2"},null,8,["modelValue","options"])])])),_:1},8,["blocked"])]),(0,l.K2)(x,{ref:"dt",filters:c.filters,value:c.formData,selectionMode:"single",onRowSelect:t[4]||(t[4]=e=>m.showModal("edit",e.data)),responsiveLayout:"scroll",sortField:"id",sortOrder:1,paginator:!0,rows:15,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",rowsPerPageOptions:[15,20,30],removableSort:"",dataKey:"id","onUpdate:filters":t[5]||(t[5]=e=>c.filters=e),filterDisplay:"row"},{default:(0,l.Ql)((()=>[(0,l.K2)(y,{field:"attributes.formid",header:"Form ID",showFilterMenu:!1}),(0,l.K2)(y,{field:"attributes.name",header:"Name",showFilterMenu:!1}),(0,l.K2)(y,{field:"attributes.nounit",header:"Lantai-Blok-No.Unit",showFilterMenu:!1}),(0,l.K2)(y,{field:"attributes.typeunit",header:"Type Unit",showFilterMenu:!1}),(0,l.K2)(y,{field:"attributes.ktpnpwp",header:"KTP / NPWP",showFilterMenu:!1}),(0,l.K2)(y,{field:"attributes.notelp",header:"No. Telphone",showFilterMenu:!1}),(0,l.K2)(y,{field:"attributes.status",header:"Status"},{body:(0,l.Ql)((e=>[(0,l.K2)(g,{modelValue:e.data.attributes.status,"onUpdate:modelValue":t=>e.data.attributes.status=t},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,l.K2)(y,{field:"attributes.project",header:"Project"},{body:(0,l.Ql)((e=>[(0,l.QD)("span",null,(0,o.WA)(m.getStatusText(e.data.attributes.project)),1)])),_:1})])),_:1},8,["filters","value"]),(0,l.K2)(k,{displayModal:c.displayModal,"onUpdate:displayModal":t[6]||(t[6]=e=>c.displayModal=e),form:c.selectedForm,"onUpdate:form":t[7]||(t[7]=e=>c.selectedForm=e),refreshList:m.getAllForms,action:c.action},null,8,["displayModal","form","refreshList","action"])])}var c=a(4432),m=a(5160),p=a(2340),f=a(8830),b=a(3740),h=a(1147),y=a(9140),g=a(6960),x=a(8331);const k={class:"p-m-0"},v={class:"text-ggi-red"},D={ref:"form"},w={class:"formgrid grid"},C={class:"field col-12 md:col-12"},V=(0,l.QD)("label",null,"Status",-1),Q=(0,l.QD)("div",{class:"field col-12 md:col-12"},[(0,l.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Informasi Data Konsumen")],-1),T={class:"field col-12 md:col-4"},K=(0,l.QD)("label",null,[(0,l.QD)("span",null,"Nama:")],-1),P={class:"field col-12 md:col-4"},F=(0,l.QD)("label",null,"Status Customer",-1),I={class:"field col-12 md:col-4"},$=(0,l.QD)("label",{for:"ktpnpwp"},"KTP / NPWP",-1),S={class:"field col-12 md:col-12"},U=(0,l.QD)("label",null,"Alamat",-1),B={class:"field col-12 md:col-6"},j=(0,l.QD)("label",null,"No Telp/HP",-1),N={class:"field col-12 md:col-6"},R=(0,l.QD)("label",null,"E-mail",-1),A=(0,l.QD)("div",{class:"field col-12 md:col-12"},[(0,l.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Informasi Unit")],-1),M={class:"field col-12 md:col-4"},E=(0,l.QD)("label",null,"Type Unit",-1),z={class:"field col-12 md:col-4"},L=(0,l.QD)("label",null,"Lantai/Blok/No. Unit",-1),O={class:"field col-12 md:col-4"},W=(0,l.QD)("label",null,"Luas Tanah / Bangunan",-1),_=(0,l.QD)("div",{class:"field col-12 md:col-12"},[(0,l.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Tujuan Transfer")],-1),G={class:"field col-12 md:col-6"},q=(0,l.QD)("label",null,"Nama Penerima",-1),H={class:"field col-12 md:col-6"},Z=(0,l.QD)("label",null,"Bank",-1),Y={class:"field col-12 md:col-6"},J=(0,l.QD)("label",{for:"norek"},"No. Rek",-1),X={class:"field col-12 md:col-6"},ee=(0,l.QD)("label",null,"Kantor Cabang",-1),te=(0,l.QD)("div",{class:"field col-12 md:col-12"},[(0,l.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Admin Input"),(0,l.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Perhitungan Refund Security Deposit Sewa :")],-1),ae={class:"field col-12 md:col-6"},le=(0,l.QD)("label",{for:"norek"},"Nilai Deposit Renovasi",-1),oe={class:"field col-12 md:col-6"},re=(0,l.QD)("label",null,"Terbilang",-1),ie={class:"field col-12 md:col-12"},ne=(0,l.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Penjelasan Pengajuan Refund Security Deposit Sewa:",-1),se={class:"field col-12 md:col-12 card flex flex-wrap justify-content-center gap-3"},ue=(0,l.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Syarat / Dokumen Pengajuan Refund Security Deposit Sewa Checklist :",-1),de={class:"flex align-items-center"},ce=(0,l.QD)("label",{for:"ingredient1",class:"ml-1"}," Bukti Transfer",-1),me={class:"flex align-items-center"},pe=(0,l.QD)("label",{for:"ingredient2",class:"ml-1"}," Tanda Terima / Kwitansi (Asli)",-1),fe={class:"flex align-items-center"},be=(0,l.QD)("label",{for:"ingredient3",class:"ml-1"}," Kelengkapan Data Konsumer (KTP, NPWP, Fotocopy No. Rekening Bank)",-1),he={class:"field col-12 md:col-6"},ye=(0,l.QD)("label",null,"Admin & Finance",-1),ge={class:"field col-12 md:col-6"},xe=(0,l.QD)("label",null,"Direksi",-1),ke={class:"flex justify-content-center gap-3"},ve={class:"flex justify-content-between flex-wrap"},De={class:"flex"},we={class:"flex"},Ce=["src"];function Ve(e,t,a,r,i,n){const s=(0,l.E1)("Button"),u=(0,l.E1)("Dropdown"),d=(0,l.E1)("InputText"),c=(0,l.E1)("InputNumber"),m=(0,l.E1)("Textarea"),p=(0,l.E1)("Checkbox"),f=(0,l.E1)("ConfirmDialog"),b=(0,l.E1)("Dialog");return(0,l.Wz)(),(0,l.An)(l.ae,null,[(0,l.K2)(b,{visible:a.displayModal,modal:!0,closable:!1,style:{width:"90vh"}},{header:(0,l.Ql)((()=>[(0,l.QD)("h3",k,[(0,l.QD)("span",v,"Edit Customer Form Number # "+(0,o.WA)(a.form.id),1)]),(0,l.K2)(s,{label:"Close",icon:"pi pi-times",class:"button-rounded button-text ml-auto button-secondary",onClick:n.handleClose},null,8,["onClick"])])),footer:(0,l.Ql)((()=>[(0,l.QD)("div",ve,[(0,l.QD)("div",De,[(0,l.K2)(s,{label:"Print",icon:"pi pi-print",onClick:t[26]||(t[26]=e=>n.fillForm())})]),(0,l.QD)("div",we,[(0,l.K2)(s,{label:"edit"==a.action?"Save":"Add Document",icon:"edit"==a.action?"pi pi-save":"pi pi-plus",onClick:t[27]||(t[27]=e=>n.handleSubmit(a.action))},null,8,["label","icon"])])]),(0,l.K2)(f)])),default:(0,l.Ql)((()=>[(0,l.QD)("form",D,[(0,l.QD)("div",w,[(0,l.QD)("div",C,[V,(0,l.K2)(u,{modelValue:n.formCopy.attributes.status,"onUpdate:modelValue":t[0]||(t[0]=e=>n.formCopy.attributes.status=e),options:i.statusoptions,class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue","options"])]),Q,(0,l.QD)("div",T,[K,(0,l.K2)(d,{id:"namapemohon",modelValue:n.formCopy.attributes.name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.formCopy.attributes.name=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,l.QD)("div",P,[F,(0,l.K2)(d,{id:"statuscust",modelValue:n.formCopy.attributes.statuscust,"onUpdate:modelValue":t[2]||(t[2]=e=>n.formCopy.attributes.statuscust=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,l.QD)("div",I,[$,(0,l.K2)(c,{modelValue:n.formCopy.attributes.ktpnpwp,"onUpdate:modelValue":t[3]||(t[3]=e=>n.formCopy.attributes.ktpnpwp=e),useGrouping:!1,class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,l.QD)("div",S,[U,(0,l.K2)(m,{id:"alamatpemasang",autoResize:"",rows:"1",modelValue:n.formCopy.attributes.alamat,"onUpdate:modelValue":t[4]||(t[4]=e=>n.formCopy.attributes.alamat=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,l.QD)("div",B,[j,(0,l.K2)(c,{modelValue:n.formCopy.attributes.notelp,"onUpdate:modelValue":t[5]||(t[5]=e=>n.formCopy.attributes.notelp=e),useGrouping:!1,class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,l.QD)("div",N,[R,(0,l.K2)(d,{id:"email",modelValue:n.formCopy.attributes.email,"onUpdate:modelValue":t[6]||(t[6]=e=>n.formCopy.attributes.email=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),A,(0,l.QD)("div",M,[E,(0,l.K2)(u,{id:"typeunit",modelValue:n.formCopy.attributes.typeunit,"onUpdate:modelValue":t[7]||(t[7]=e=>n.formCopy.attributes.typeunit=e),options:i.typeOptions,class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue","options"])]),(0,l.QD)("div",z,[L,(0,l.K2)(d,{id:"nounit",modelValue:n.formCopy.attributes.nounit,"onUpdate:modelValue":t[8]||(t[8]=e=>n.formCopy.attributes.nounit=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,l.QD)("div",O,[W,(0,l.K2)(d,{id:"luastanah",modelValue:n.formCopy.attributes.luastanah,"onUpdate:modelValue":t[9]||(t[9]=e=>n.formCopy.attributes.luastanah=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),_,(0,l.QD)("div",G,[q,(0,l.K2)(d,{id:"luastanah",modelValue:n.formCopy.attributes.namapenerima,"onUpdate:modelValue":t[10]||(t[10]=e=>n.formCopy.attributes.namapenerima=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,l.QD)("div",H,[Z,(0,l.K2)(d,{id:"luastanah",modelValue:n.formCopy.attributes.bank,"onUpdate:modelValue":t[11]||(t[11]=e=>n.formCopy.attributes.bank=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,l.QD)("div",Y,[J,(0,l.K2)(c,{modelValue:n.formCopy.attributes.norek,"onUpdate:modelValue":t[12]||(t[12]=e=>n.formCopy.attributes.norek=e),useGrouping:!1,class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,l.QD)("div",X,[ee,(0,l.K2)(d,{id:"kantorcabang",modelValue:n.formCopy.attributes.kantorcabang,"onUpdate:modelValue":t[13]||(t[13]=e=>n.formCopy.attributes.kantorcabang=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),te,(0,l.QD)("div",ae,[le,(0,l.K2)(c,{modelValue:n.formCopy.attributes.nilaideposit,"onUpdate:modelValue":t[14]||(t[14]=e=>n.formCopy.attributes.nilaideposit=e),mode:"currency",currency:"IDR",class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,l.QD)("div",oe,[re,(0,l.K2)(d,{id:"terbilang",modelValue:n.angkaTerb,"onUpdate:modelValue":t[15]||(t[15]=e=>n.angkaTerb=e),disabled:"",class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,l.QD)("div",ie,[ne,(0,l.K2)(m,{id:"alamatpemasang",autoResize:"",rows:"2",modelValue:n.formCopy.attributes.penjelasanrefund,"onUpdate:modelValue":t[16]||(t[16]=e=>n.formCopy.attributes.penjelasanrefund=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,l.QD)("div",se,[ue,(0,l.QD)("div",de,[(0,l.K2)(p,{modelValue:n.formCopy.attributes.bukti,"onUpdate:modelValue":t[17]||(t[17]=e=>n.formCopy.attributes.bukti=e),binary:!0},null,8,["modelValue"]),ce]),(0,l.QD)("div",me,[(0,l.K2)(p,{modelValue:n.formCopy.attributes.tandaterima,"onUpdate:modelValue":t[18]||(t[18]=e=>n.formCopy.attributes.tandaterima=e),binary:!0},null,8,["modelValue"]),pe]),(0,l.QD)("div",fe,[(0,l.K2)(p,{modelValue:n.formCopy.attributes.kelengkapandata,"onUpdate:modelValue":t[19]||(t[19]=e=>n.formCopy.attributes.kelengkapandata=e),binary:!0},null,8,["modelValue"]),be])]),(0,l.QD)("div",he,[ye,(0,l.K2)(d,{id:"terbilang",modelValue:n.formCopy.attributes.admin,"onUpdate:modelValue":t[20]||(t[20]=e=>n.formCopy.attributes.admin=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,l.QD)("div",ge,[xe,(0,l.K2)(d,{id:"terbilang",modelValue:n.formCopy.attributes.direksi,"onUpdate:modelValue":t[21]||(t[21]=e=>n.formCopy.attributes.direksi=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])])]),(0,l.QD)("div",ke,[(0,l.K2)(s,{label:"KTP",icon:"pi pi-image",onClick:t[22]||(t[22]=e=>n.viewKTP("ktp"))}),(0,l.K2)(s,{label:"NPWP",icon:"pi pi-image",onClick:t[23]||(t[23]=e=>n.viewKTP("npwp"))}),(0,l.K2)(s,{label:"Bukti Transfer Deposit",icon:"pi pi-image",onClick:t[24]||(t[24]=e=>n.viewKTP("buktitransfer"))}),(0,l.K2)(s,{label:"Foto Buku Rekening Bank",icon:"pi pi-image",onClick:t[25]||(t[25]=e=>n.viewKTP("bukurek"))})])],512)])),_:1},8,["visible"]),(0,l.K2)(b,{visible:i.imageDialogVisible,closable:!1,style:{width:"50vh"}},{header:(0,l.Ql)((()=>[(0,l.K2)(s,{label:"Print",icon:"pi pi-print",class:"button-rounded button-text mr-auto button-secondary",onClick:n.printCurrentImage},null,8,["onClick"]),(0,l.K2)(s,{label:"Close",icon:"pi pi-times",class:"button-rounded button-text ml-auto button-secondary",onClick:n.hideImageDialog},null,8,["onClick"])])),default:(0,l.Ql)((()=>[(0,l.QD)("img",{src:i.imageSrc,alt:"Image Preview",style:{"max-width":"100%","max-height":"100%"}},null,8,Ce)])),_:1},8,["visible"])],64)}a(2168),a(5104),a(8312);var Qe=a(100),Te=a(3952),Ke=a(5556),Pe=a(6716),Fe=a(2112),Ie=a(6592),$e=a(3592),Se=a(9704),Ue=a.n(Se),Be=a.p+"assets/pdf/FormRDPNew.pdf",je=a.p+"assets/pdf/FormRDPBanara.pdf",Ne=a.p+"assets/pdf/FormRDPNaraya.pdf";let Re=new p.c;var Ae={components:{Dialog:Qe.c,Button:f.c,ConfirmDialog:Te.c,InputText:g.c,Textarea:Ke.c,InputNumber:Ie.c,Dropdown:y.c,Checkbox:Fe.c},props:["displayModal","form","refreshList","action"],res:null,data(){return{typeOptions:["Rumah","Kavling"],statusoptions:["Batal","Aktif"],imageDialogVisible:!1,imageSrc:""}},methods:{viewKTP(e){const t=this.formCopy.attributes[e];t?this.openImagePopup(t):this.$toast.add({severity:"warn",summary:"No Image",detail:"The image is not available.",life:3e3})},openImagePopup(e){const t={1:"MazentaImages",2:"BanaraImages",3:"NarayaImages",4:"MarchandImages"},a=this.formCopy.attributes.project,l=t[a];l?(this.imageSrc=`/img/${l}/${e}`,this.imageDialogVisible=!0):console.error("Project not found!")},hideImageDialog(){this.imageDialogVisible=!1},printCurrentImage(){this.printImage(this.imageSrc)},printImage(e){const t=new Image;t.onload=()=>{const e=document.createElement("canvas"),a=e.getContext("2d");e.width=t.width,e.height=t.height,a.drawImage(t,0,0);const l=e.toDataURL(),o=window.open("","_blank");o.document.write("<html><head><title>Print Image</title>"),o.document.write("<style>@media print { img { width: 50%; height: auto; } }</style>"),o.document.write("</head><body>"),o.document.write(`<img src="${l}" onload="window.print();">`),o.document.write("</body></html>"),o.document.close()},t.src=e},formatPrice(e){const t=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".");return`Rp ${t},-`},async fillForm(){try{let e,t=this.formCopy.attributes.project,a=Pe.c.getters.getRole;"mazentaAdmin"!==a&&"superadmin"!==a||1!==t?"banaraAdmin"!==a&&"superadmin"!==a||2!==t?"narayaAdmin"!==a&&"superadmin"!==a||3!==t||(e=await fetch(Ne).then((e=>e.arrayBuffer()))):e=await fetch(je).then((e=>e.arrayBuffer())):e=await fetch(Be).then((e=>e.arrayBuffer()));const l=await $e.PDFDocument.load(e),o=l.getForm(),r=this.form.attributes.alamat,i=50;let n,s,u;if(r.length<=i)n=r,s="",u="";else{const e=r.lastIndexOf(" ",i);if(n=r.substring(0,e),s=r.substring(e+1,e+i),r.length>e+i){const t=r.indexOf(" ",e+i);-1!==t?(s=r.substring(e+1,t),u=r.substring(t+1)):u=r.substring(e+i+1)}}o.getTextField("alamat1").setText(n),o.getTextField("alamat2").setText(s),o.getTextField("alamat3").setText(u),o.getTextField("name1").setText(this.form.attributes.name),o.getTextField("statuscust1").setText(this.form.attributes.statuscust??""),o.getTextField("ktpnpwp1").setText(this.form.attributes.ktpnpwp??""),o.getTextField("notelp1").setText(this.form.attributes.notelp??""),o.getTextField("email1").setText(this.form.attributes.email??""),o.getTextField("typeunit1").setText(this.form.attributes.typeunit??""),o.getTextField("nounit1").setText(this.form.attributes.nounit??"");const d=o.getTextField("luastanah1");if(d){const e=this.form.attributes.luastanah.split("/"),t=e.map((e=>`${e.trim()}²`)).join(" / ");d.setText(t??"")}o.getTextField("nilaideposit1").setText(this.formatPrice(this.form.attributes.nilaideposit??"")),o.getTextField("terbilang1").setText(Ue()(this.form.attributes.nilaideposit??"")+" rupiah"),o.getTextField("penjelasanrefund1").setText(this.form.attributes.penjelasanrefund??""),o.getTextField("namapenerima1").setText(this.form.attributes.namapenerima??""),o.getTextField("bank1").setText(this.form.attributes.bank??""),o.getTextField("norek1").setText(this.form.attributes.norek??""),o.getTextField("kantorcabang1").setText(this.form.attributes.kantorcabang??""),o.getTextField("admin1").setText(this.form.attributes.admin??""),o.getTextField("direksi1").setText(this.form.attributes.direksi??"");const c=o.getCheckBox("bukti1"),m=o.getCheckBox("tandaterima1"),p=o.getCheckBox("kelengkapandata1");1==this.form.attributes.bukti&&c.check(),1==this.form.attributes.tandaterima&&m.check(),1==this.form.attributes.kelengkapandata&&p.check();const f=await l.save(),b=new Blob([f],{type:"application/pdf"}),h=URL.createObjectURL(b);window.open(h,"_blank"),URL.revokeObjectURL(h)}catch(e){console.error("Error while processing PDF:",e)}},handleClose(){this.$emit("update:form",null),this.$emit("update:displayModal",!1),this.imageDialogVisible=!1},async handleSubmit(){try{let e={...this.formCopy.attributes},t=this.formCopy.id,a=null,l={data:e};a=await Re.rdpForm.updateByID(t,l),this.handleClose(),this.refreshList(),console.log(a),this.$toast.add({severity:"success",summary:"Form Update Success",detail:`Form #${a.data.data.id} has been saved`,life:3e3})}catch(e){console.error("Error while saving form:",e)}}},computed:{formCopy(){return{...this.form}},angkaTerb(){const e=Ue()(this.formCopy.attributes.nilaideposit,{prefix:"Rp ",suffix:",-",lang:"id"});return e}}},Me=a(4100);const Ee=(0,Me.c)(Ae,[["render",Ve]]);var ze=Ee,Le=new p.c,Oe={components:{DataTable:c.c,Column:m.c,InputText:g.c,formModal:ze,Button:f.c,Dropdown:y.c,StatusTag:h.c,BlockUI:b.c},data(){return{formData:null,action:null,selectedForm:null,displayModal:!1,role:Pe.c.getters.getRole,statuses:["Batal","Aktif"],statusfilter:["Semua","Batal","Aktif"],selectedStatus:"Semua",projectfilter:["Project","Mazenta","Banara","Naraya"],selectedProject:"Project",filters:{global:{value:null,matchMode:x.yI.CONTAINS},"attributes.status":{value:null,matchMode:x.yI.CONTAINS},"attributes.project":{value:null,matchMode:x.yI.CONTAINS}}}},created(){this.getAllForms()},watch:{selectedStatus(e){"Semua"!==e?(this.filters["attributes.status"].value=e,this.getAllForms()):(this.filters["attributes.status"].value=null,this.getAllForms())},selectedProject(e){"Project"!==e?("Mazenta"==e&&(this.filters["attributes.project"].value=1),"Banara"==e&&(this.filters["attributes.project"].value=2),"Naraya"==e&&(this.filters["attributes.project"].value=3),this.getAllForms()):(this.filters["attributes.project"].value=null,this.getAllForms())}},methods:{getStatusText(e){switch(e){case 1:return"Mazenta";case 2:return"Banara";case 3:return"Naraya";default:return""}},async getAllForms(){try{let e=await Le.rdpForm.findAll();this.filterInternet(e.data.data)}catch(e){console.log(e)}},filterInternet(e){let t=Pe.c.getters.getRole;this.formData=e.filter((e=>{const a=e.attributes.project;return"mazentaAdmin"==t?a&&1===a:"banaraAdmin"==t?a&&2===a:"narayaAdmin"==t?a&&3===a:"superadmin"==t?a:void 0}))},showModal(e,t){this.action=e,this.selectedForm=t,this.displayModal=!0}}};const We=(0,Me.c)(Oe,[["render",d]]);var _e=We}}]);
//# sourceMappingURL=544.js.map