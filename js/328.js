"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[328],{3740:function(e,a,t){t.d(a,{c:function(){return d}});var o=t(1368),l=t(7988),r=t(9435),n={root:"p-blockui-container"},s=r.c.extend({name:"blockui",classes:n}),i=t(4108),u={name:"BaseBlockUI",extends:l.c,props:{blocked:{type:Boolean,default:!1},fullScreen:{type:Boolean,default:!1},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0}},style:s,provide:function(){return{$parentInstance:this}}},d={name:"BlockUI",extends:u,emits:["block","unblock"],mask:null,data:function(){return{isBlocked:!1}},watch:{blocked:function(e){!0===e?this.block():this.unblock()}},mounted:function(){this.blocked&&this.block()},methods:{block:function(){var e="p-blockui p-component-overlay p-component-overlay-enter";this.fullScreen?(e+=" p-blockui-document",this.mask=o.kP.createElement("div",{style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%"},class:!this.isUnstyled&&e,"p-bind":this.ptm("mask")}),document.body.appendChild(this.mask),o.kP.blockBodyScroll(),document.activeElement.blur()):(this.mask=o.kP.createElement("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},class:!this.isUnstyled&&e,"p-bind":this.ptm("mask")}),this.$refs.container.appendChild(this.mask)),this.autoZIndex&&o.eI.set("modal",this.mask,this.baseZIndex+this.$primevue.config.zIndex.modal),this.isBlocked=!0,this.$emit("block")},unblock:function(){var e=this;!this.isUnstyled&&o.kP.addClass(this.mask,"p-component-overlay-leave"),o.kP.hasCSSAnimation(this.mask)>0?this.mask.addEventListener("animationend",(function(){e.removeMask()})):this.removeMask()},removeMask:function(){o.eI.clear(this.mask),this.fullScreen?(document.body.removeChild(this.mask),o.kP.unblockBodyScroll()):this.$refs.container.removeChild(this.mask),this.isBlocked=!1,this.$emit("unblock")}}},c=["aria-busy"];function m(e,a,t,o,l,r){return(0,i.Wz)(),(0,i.An)("div",(0,i.Gu)({ref:"container",class:e.cx("root"),"aria-busy":l.isBlocked},e.ptm("root")),[(0,i.oF)(e.$slots,"default")],16,c)}d.render=m},5556:function(e,a,t){t.d(a,{c:function(){return u}});var o=t(7988),l=t(9435),r={root:function(e){var a=e.instance,t=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":a.filled,"p-inputtextarea-resizable ":t.autoResize,"p-invalid":t.invalid,"p-variant-filled":t.variant?"filled"===t.variant:"filled"===a.$primevue.config.inputStyle}]}},n=l.c.extend({name:"textarea",classes:r}),s=t(4108),i={name:"BaseTextarea",extends:o.c,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:n,provide:function(){return{$parentInstance:this}}},u={name:"Textarea",extends:i,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return null!=this.modelValue&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||""===this.$attrs.disabled}}}}},d=["value"];function c(e,a,t,o,l,r){return(0,s.Wz)(),(0,s.An)("textarea",(0,s.Gu)({class:e.cx("root"),value:e.modelValue,onInput:a[0]||(a[0]=function(){return r.onInput&&r.onInput.apply(r,arguments)})},e.ptm("root",r.ptmParams)),null,16,d)}u.render=c},7328:function(e,a,t){t.r(a),t.d(a,{default:function(){return Ca}});var o=t(4108),l=t(9096);const r={class:"col-12 offset-10"},n=(0,o.QD)("div",{class:"flex justify-content-between align-items-center"},[(0,o.QD)("h1",{class:"text-ggi-red"},"Panel Form - Pengajuan Izin Kerja")],-1),s={class:"flex justify-content-start mb-4"},i={class:"p-input-icon-left"},u=(0,o.QD)("i",{class:"pi pi-search"},null,-1);function d(e,a,t,d,c,m){const p=(0,o.E1)("InputText"),f=(0,o.E1)("Dropdown"),b=(0,o.E1)("BlockUI"),h=(0,o.E1)("Column"),y=(0,o.E1)("StatusTag"),g=(0,o.E1)("DataTable"),k=(0,o.E1)("formModal");return(0,o.Wz)(),(0,o.An)("div",r,[n,(0,o.QD)("div",s,[(0,o.QD)("span",i,[u,(0,o.K2)(p,{modelValue:c.filters["global"].value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.filters["global"].value=e),placeholder:"Keyword Search",class:"w-10rem"},null,8,["modelValue"])]),(0,o.QD)("span",null,[(0,o.K2)(f,{modelValue:c.selectedStatus,"onUpdate:modelValue":a[1]||(a[1]=e=>c.selectedStatus=e),options:c.statusfilter,placeholder:"Status",class:"w-full md:w-9rem ml-2"},null,8,["modelValue","options"])]),(0,o.K2)(b,{blocked:"superadmin"!=this.role},{default:(0,o.Ql)((()=>[(0,o.QD)("span",null,[(0,o.K2)(f,{modelValue:c.selectedProject,"onUpdate:modelValue":a[2]||(a[2]=e=>c.selectedProject=e),options:c.projectfilter,placeholder:"Project",class:"w-full md:w-9rem ml-2"},null,8,["modelValue","options"])])])),_:1},8,["blocked"])]),(0,o.K2)(g,{ref:"dt",filters:c.filters,value:c.formData,selectionMode:"single",onRowSelect:a[3]||(a[3]=e=>m.showModal("edit",e.data)),responsiveLayout:"scroll",sortField:"id",sortOrder:1,paginator:"",rows:15,rowsPerPageOptions:[15,20,30],removableSort:"",dataKey:"id","onUpdate:filters":a[4]||(a[4]=e=>c.filters=e),filterDisplay:"row"},{default:(0,o.Ql)((()=>[(0,o.K2)(h,{field:"attributes.formid",header:"Form ID"}),(0,o.K2)(h,{field:"attributes.namapemohon",header:"Nama Pemohon"}),(0,o.K2)(h,{field:"attributes.namapemilikunit",header:"Nama Pemilik Unit"}),(0,o.K2)(h,{field:"attributes.clusterblok",header:"Cluster-Blok-No.Unit"}),(0,o.K2)(h,{field:"attributes.notelp",header:"NoTelp/HP"}),(0,o.K2)(h,{field:"attributes.status",header:"Status"},{body:(0,o.Ql)((e=>[(0,o.K2)(y,{modelValue:e.data.attributes.status,"onUpdate:modelValue":a=>e.data.attributes.status=a},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,o.K2)(h,{field:"attributes.project",header:"Project"},{body:(0,o.Ql)((e=>[(0,o.QD)("span",null,(0,l.WA)(m.getStatusText(e.data.attributes.project)),1)])),_:1})])),_:1},8,["filters","value"]),(0,o.K2)(k,{displayModal:c.displayModal,"onUpdate:displayModal":a[5]||(a[5]=e=>c.displayModal=e),form:c.selectedForm,"onUpdate:form":a[6]||(a[6]=e=>c.selectedForm=e),refreshList:m.getAllForms,action:c.action},null,8,["displayModal","form","refreshList","action"])])}var c=t(4432),m=t(5160),p=t(2340),f=t(6960),b=t(9140),h=t(3740),y=t(1147),g=t(8331);const k={class:"p-m-0"},x={class:"text-ggi-red"},v={ref:"form"},D={class:"formgrid grid"},C={class:"field col-12 md:col-12"},w=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Status")],-1),V={class:"field col-12 md:col-6"},P=(0,o.QD)("label",null,[(0,o.QD)("span",null,"Nama Pemohon:")],-1),Q={class:"field col-12 md:col-6"},K=(0,o.QD)("label",{for:"namapemilikunit"},"Nama Pemilik Unit",-1),T={class:"field col-12 md:col-6"},j=(0,o.QD)("label",{for:"statuscust"},"Status Cust",-1),I={class:"field col-12 md:col-6"},F=(0,o.QD)("label",{for:"statuscust"},"Lain Lain (Kalau Ada)",-1),B={class:"field col-12 md:col-6"},U=(0,o.QD)("label",{for:"noktp"},"Luas Tanah / Bangunan",-1),S={class:"field col-12 md:col-6"},A=(0,o.QD)("label",{for:"noktp"},"Cluster / Blok / No.Unit",-1),$={class:"field col-12 md:col-6"},z=(0,o.QD)("label",{for:"noktp"},"NoTelp/HP",-1),E={class:"field col-12 md:col-6"},M=(0,o.QD)("label",{for:"tglPelaksanaan"},"Tanggal Pelaksanaan",-1),N=(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Untuk Keperluan :",-1),R={class:"field col-12 md:col-12"},L=(0,o.QD)("label",{for:"alamatpemasang"},"Uraian Pekerjaan",-1),O=(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Non PERBAIKAN/RENOVASI :",-1),G={class:"field col-12 md:col-4"},H=(0,o.QD)("label",{for:"noktp"},"Ijin Lintas Kendaraan Berat, antara lain : ",-1),_={class:"field col-12 md:col-4"},J=(0,o.QD)("label",{for:"noktp"},"Lain Lain (Kalau Ada)",-1),W={class:"field col-12 md:col-4"},Z=(0,o.QD)("label",{for:"alamatpemasang"},"Jumlah Kendaraan ",-1),Y={class:"field col-12 md:col-6"},q=(0,o.QD)("label",{for:"noktp"},"Izin Acara",-1),X={class:"field col-12 md:col-6"},ee=(0,o.QD)("label",{for:"noktp"},"Tenda/Panggung Ukuran",-1),ae={class:"field col-12 md:col-12"},te=(0,o.QD)("label",{for:"alamatpemasang"},"Ijin Keterangan Penghuni : Untuk Keperluan",-1),oe=(0,o.QD)("div",{class:"field col-12 md:col-6 flex flex-wrap justify-content-center"},[(0,o.QD)("h3",{class:"justify-item-center text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," Klasifikasi Pekerjaan (diisi oleh Pengelola/Pengembang) :")],-1),le={class:"field col-12 md:col-3 flex flex-wrap justify-content-center"},re=(0,o.QD)("label",null,"Sedang",-1),ne={class:"field col-12 md:col-3 flex flex-wrap justify-content-center"},se=(0,o.QD)("label",null,"Besar",-1),ie=(0,o.QD)("h3",{class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," DAFTAR CHECKLIST: (DIISI PETUGAS/PENGELOLA)",-1),ue={class:"field col-12 md:col-6"},de=(0,o.QD)("label",{class:"ml-1"}," KTP/KK/KITAS/PASSPORT ",-1),ce={class:"field col-12 md:col-6"},me=(0,o.QD)("label",{class:"ml-1"}," BAST (Berita Acara Serah Terima) ",-1),pe={class:"field col-12 md:col-6"},fe=(0,o.QD)("label",{class:"ml-1"}," P3U/AJB/SERTIFIKAT ",-1),be={class:"field col-12 md:col-6"},he=(0,o.QD)("label",{class:"ml-1"}," Gambar Pelaksanaan/Desain Eksisting dan Rencana ",-1),ye={class:"field col-12 md:col-6"},ge=(0,o.QD)("label",{class:"ml-1"}," Perjanjian Sewa Menyewa ",-1),ke={class:"field col-12 md:col-6"},xe=(0,o.QD)("label",{class:"ml-1"}," Foto Tampak Depan Rumah Tetannga Kanan ",-1),ve={class:"field col-12 md:col-6"},De=(0,o.QD)("label",{class:"ml-1"}," Foto/Gambar Tampak Depan & Foto Taman Depan ",-1),Ce={class:"field col-12 md:col-6"},we=(0,o.QD)("label",{class:"ml-1"}," Surat Pernyataan Pemohon (Kerja Besar) ",-1),Ve={class:"field col-12 md:col-6"},Pe=(0,o.QD)("label",{class:"ml-1"}," Surat Kuasa dari Pemilik / Peneywa ",-1),Qe=(0,o.QD)("div",{class:"field col-12 md:col-12 flex flex-wrap justify-content-center"},[(0,o.QD)("h3",{class:"justify-item-center text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"}," IPL : Lunas s/d Bulan dan Tahun")],-1),Ke={class:"field col-12 md:col-6"},Te=(0,o.QD)("label",{for:"noktp"},"Bulan",-1),je={class:"field col-12 md:col-6"},Ie=(0,o.QD)("label",{for:"noktp"},"Tahun",-1),Fe={class:"field col-12 md:col-6"},Be=(0,o.QD)("label",{for:"alamatpemasang"},"Adm : Rp. ",-1),Ue={class:"field col-12 md:col-6"},Se=(0,o.QD)("label",{for:"alamatpemasang"},"Jaminan / Deposit : Rp.",-1),Ae={class:"field col-12 md:col-4"},$e=(0,o.QD)("label",{for:"noktp"},"Bank",-1),ze={class:"field col-12 md:col-4"},Ee=(0,o.QD)("label",{for:"noktp"},"No. Rekening",-1),Me={class:"field col-12 md:col-4"},Ne=(0,o.QD)("label",{for:"noktp"},"Cabang",-1),Re={class:"field col-12 md:col-12"},Le=(0,o.QD)("label",{for:"noktp"},"No. VA",-1),Oe={class:"field col-12 md:col-6"},Ge=(0,o.QD)("label",{for:"alamatpemasang"},"Tgl Print",-1),He={class:"field col-12 md:col-6"},_e=(0,o.QD)("label",null,"Nama Badan Pengelola/Estate Management",-1),Je={class:"flex flex-row flex-wrap justify-content-center gap-3"},We={class:"flex justify-content-between flex-wrap"},Ze={class:"flex"},Ye={class:"flex"},qe=["src"];function Xe(e,a,t,r,n,s){const i=(0,o.E1)("Button"),u=(0,o.E1)("Dropdown"),d=(0,o.E1)("InputText"),c=(0,o.E1)("Calendar"),m=(0,o.E1)("Textarea"),p=(0,o.E1)("InputNumber"),f=(0,o.E1)("Checkbox"),b=(0,o.E1)("ConfirmDialog"),h=(0,o.E1)("Dialog");return(0,o.Wz)(),(0,o.An)(o.ae,null,[(0,o.K2)(h,{visible:t.displayModal,modal:!0,closable:!1,style:{width:"90vh"}},{header:(0,o.Ql)((()=>[(0,o.QD)("h3",k,[(0,o.QD)("span",x,"Edit Customer Form Izin Kerja Number # "+(0,l.WA)(t.form.id),1)]),(0,o.K2)(i,{label:"Close",icon:"pi pi-times",class:"button-rounded button-text ml-auto button-secondary",onClick:s.handleClose},null,8,["onClick"])])),footer:(0,o.Ql)((()=>[(0,o.QD)("div",We,[(0,o.QD)("div",Ze,[(0,o.K2)(i,{label:"Print",icon:"pi pi-print",onClick:a[45]||(a[45]=e=>s.fillForm())}),(0,o.K2)(i,{label:"Print Semua KTP",icon:"pi pi-print",class:"button-rounded button-text ml-auto button-secondary",onClick:s.printAllImages},null,8,["onClick"])]),(0,o.QD)("div",Ye,[(0,o.K2)(i,{label:"edit"==t.action?"Save":"Add Document",icon:"edit"==t.action?"pi pi-save":"pi pi-plus",onClick:a[46]||(a[46]=e=>s.handleSubmit(t.action))},null,8,["label","icon"])])]),(0,o.K2)(b)])),default:(0,o.Ql)((()=>[(0,o.QD)("form",v,[(0,o.QD)("div",D,[(0,o.QD)("div",C,[w,(0,o.K2)(u,{modelValue:s.formCopy.attributes.status,"onUpdate:modelValue":a[0]||(a[0]=e=>s.formCopy.attributes.status=e),options:n.statusoptions,class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue","options"])]),(0,o.QD)("div",V,[P,(0,o.K2)(d,{id:"namapemohon",modelValue:s.formCopy.attributes.namapemohon,"onUpdate:modelValue":a[1]||(a[1]=e=>s.formCopy.attributes.namapemohon=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",Q,[K,(0,o.K2)(d,{id:"namapemilikunit",modelValue:s.formCopy.attributes.namapemilikunit,"onUpdate:modelValue":a[2]||(a[2]=e=>s.formCopy.attributes.namapemilikunit=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",T,[j,(0,o.K2)(u,{id:"statuscust",modelValue:s.formCopy.attributes.statuscust,"onUpdate:modelValue":a[3]||(a[3]=e=>s.formCopy.attributes.statuscust=e),options:n.statuscustOptions,class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue","options"])]),(0,o.QD)("div",I,[F,(0,o.K2)(d,{id:"statuscust",modelValue:s.formCopy.attributes.lainlainstatus,"onUpdate:modelValue":a[4]||(a[4]=e=>s.formCopy.attributes.lainlainstatus=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",B,[U,(0,o.K2)(d,{id:"noktp",modelValue:s.formCopy.attributes.luastanah,"onUpdate:modelValue":a[5]||(a[5]=e=>s.formCopy.attributes.luastanah=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",S,[A,(0,o.K2)(d,{id:"noktp",modelValue:s.formCopy.attributes.clusterblok,"onUpdate:modelValue":a[6]||(a[6]=e=>s.formCopy.attributes.clusterblok=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",$,[z,(0,o.K2)(d,{id:"noktp",modelValue:s.formCopy.attributes.notelp,"onUpdate:modelValue":a[7]||(a[7]=e=>s.formCopy.attributes.notelp=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",E,[M,(0,o.K2)(c,{id:"tglPelaksanaan",modelValue:s.formCopy.attributes.tglPelaksanaan,"onUpdate:modelValue":a[8]||(a[8]=e=>s.formCopy.attributes.tglPelaksanaan=e),showButtonBar:"",showIcon:"",dateFormat:"yy-mm-dd",class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),N,(0,o.QD)("div",R,[L,(0,o.K2)(m,{id:"alamatpemasang",autoResize:"",rows:"4",modelValue:s.formCopy.attributes.uraianpekerjaan,"onUpdate:modelValue":a[9]||(a[9]=e=>s.formCopy.attributes.uraianpekerjaan=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),O,(0,o.QD)("div",G,[H,(0,o.K2)(u,{id:"noktp",modelValue:s.formCopy.attributes.ijinkendaraan,"onUpdate:modelValue":a[10]||(a[10]=e=>s.formCopy.attributes.ijinkendaraan=e),options:n.ijinKendaraanOptions,class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue","options"])]),(0,o.QD)("div",_,[J,(0,o.K2)(d,{id:"noktp",modelValue:s.formCopy.attributes.lainlainkendaraan,"onUpdate:modelValue":a[11]||(a[11]=e=>s.formCopy.attributes.lainlainkendaraan=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",W,[Z,(0,o.K2)(p,{modelValue:s.formCopy.attributes.jumlahkendaraan,"onUpdate:modelValue":a[12]||(a[12]=e=>s.formCopy.attributes.jumlahkendaraan=e),class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",Y,[q,(0,o.K2)(d,{id:"noktp",modelValue:s.formCopy.attributes.ijinacara,"onUpdate:modelValue":a[13]||(a[13]=e=>s.formCopy.attributes.ijinacara=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",X,[ee,(0,o.K2)(d,{id:"noktp",modelValue:s.formCopy.attributes.ukuranpanggung,"onUpdate:modelValue":a[14]||(a[14]=e=>s.formCopy.attributes.ukuranpanggung=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",ae,[te,(0,o.K2)(m,{id:"alamatpemasang",autoResize:"",rows:"1",modelValue:s.formCopy.attributes.untukkeperluan,"onUpdate:modelValue":a[15]||(a[15]=e=>s.formCopy.attributes.untukkeperluan=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.mY)(" -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- "),oe,(0,o.QD)("div",le,[re,(0,o.K2)(f,{modelValue:s.formCopy.attributes.klaSedang,"onUpdate:modelValue":a[16]||(a[16]=e=>s.formCopy.attributes.klaSedang=e),binary:!0,class:"justify-content-center text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",ne,[se,(0,o.K2)(f,{modelValue:s.formCopy.attributes.klaBesar,"onUpdate:modelValue":a[17]||(a[17]=e=>s.formCopy.attributes.klaBesar=e),binary:!0,class:"justify-content-center text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),ie,(0,o.QD)("div",ue,[(0,o.K2)(f,{modelValue:s.formCopy.attributes.ktp,"onUpdate:modelValue":a[18]||(a[18]=e=>s.formCopy.attributes.ktp=e),binary:!0},null,8,["modelValue"]),de]),(0,o.QD)("div",ce,[(0,o.K2)(f,{modelValue:s.formCopy.attributes.bast,"onUpdate:modelValue":a[19]||(a[19]=e=>s.formCopy.attributes.bast=e),binary:!0},null,8,["modelValue"]),me]),(0,o.QD)("div",pe,[(0,o.K2)(f,{modelValue:s.formCopy.attributes.p3u,"onUpdate:modelValue":a[20]||(a[20]=e=>s.formCopy.attributes.p3u=e),binary:!0},null,8,["modelValue"]),fe]),(0,o.QD)("div",be,[(0,o.K2)(f,{modelValue:s.formCopy.attributes.gambarpelaksanaan,"onUpdate:modelValue":a[21]||(a[21]=e=>s.formCopy.attributes.gambarpelaksanaan=e),binary:!0},null,8,["modelValue"]),he]),(0,o.QD)("div",ye,[(0,o.K2)(f,{modelValue:s.formCopy.attributes.perjanjiansewa,"onUpdate:modelValue":a[22]||(a[22]=e=>s.formCopy.attributes.perjanjiansewa=e),binary:!0},null,8,["modelValue"]),ge]),(0,o.QD)("div",ke,[(0,o.K2)(f,{modelValue:s.formCopy.attributes.fototampak,"onUpdate:modelValue":a[23]||(a[23]=e=>s.formCopy.attributes.fototampak=e),binary:!0},null,8,["modelValue"]),xe]),(0,o.QD)("div",ve,[(0,o.K2)(f,{modelValue:s.formCopy.attributes.gambardepan,"onUpdate:modelValue":a[24]||(a[24]=e=>s.formCopy.attributes.gambardepan=e),binary:!0},null,8,["modelValue"]),De]),(0,o.QD)("div",Ce,[(0,o.K2)(f,{modelValue:s.formCopy.attributes.suratpernyataan,"onUpdate:modelValue":a[25]||(a[25]=e=>s.formCopy.attributes.suratpernyataan=e),binary:!0},null,8,["modelValue"]),we]),(0,o.QD)("div",Ve,[(0,o.K2)(f,{modelValue:s.formCopy.attributes.suratkuasa,"onUpdate:modelValue":a[26]||(a[26]=e=>s.formCopy.attributes.suratkuasa=e),binary:!0},null,8,["modelValue"]),Pe]),(0,o.mY)(" -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- "),Qe,(0,o.QD)("div",Ke,[Te,(0,o.K2)(d,{id:"noktp",modelValue:s.formCopy.attributes.bulan,"onUpdate:modelValue":a[27]||(a[27]=e=>s.formCopy.attributes.bulan=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",je,[Ie,(0,o.K2)(d,{id:"noktp",modelValue:s.formCopy.attributes.tahun,"onUpdate:modelValue":a[28]||(a[28]=e=>s.formCopy.attributes.tahun=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",Fe,[Be,(0,o.K2)(p,{modelValue:s.formCopy.attributes.adm,"onUpdate:modelValue":a[29]||(a[29]=e=>s.formCopy.attributes.adm=e),mode:"currency",currency:"IDR",class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",Ue,[Se,(0,o.K2)(p,{modelValue:s.formCopy.attributes.jaminan,"onUpdate:modelValue":a[30]||(a[30]=e=>s.formCopy.attributes.jaminan=e),mode:"currency",currency:"IDR",class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",Ae,[$e,(0,o.K2)(d,{id:"noktp",modelValue:s.formCopy.attributes.bank,"onUpdate:modelValue":a[31]||(a[31]=e=>s.formCopy.attributes.bank=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",ze,[Ee,(0,o.K2)(p,{id:"noktp",modelValue:s.formCopy.attributes.norek,"onUpdate:modelValue":a[32]||(a[32]=e=>s.formCopy.attributes.norek=e),useGrouping:!1,class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",Me,[Ne,(0,o.K2)(d,{id:"noktp",modelValue:s.formCopy.attributes.cabang,"onUpdate:modelValue":a[33]||(a[33]=e=>s.formCopy.attributes.cabang=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",Re,[Le,(0,o.K2)(p,{id:"noktp",modelValue:s.formCopy.attributes.nova,"onUpdate:modelValue":a[34]||(a[34]=e=>s.formCopy.attributes.nova=e),useGrouping:!1,class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",Oe,[Ge,(0,o.K2)(c,{id:"alamatpemasang",modelValue:s.formCopy.attributes.tglPrint,"onUpdate:modelValue":a[35]||(a[35]=e=>s.formCopy.attributes.tglPrint=e),showButtonBar:"",showIcon:"",dateFormat:"yy-mm-dd",class:"text-base text-color surface-overlay surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",He,[_e,(0,o.K2)(d,{modelValue:s.formCopy.attributes.badanpengelola,"onUpdate:modelValue":a[36]||(a[36]=e=>s.formCopy.attributes.badanpengelola=e),class:"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"},null,8,["modelValue"])]),(0,o.QD)("div",Je,[(0,o.K2)(i,{label:"KTP Pemilik",icon:"pi pi-image",onClick:a[37]||(a[37]=e=>s.viewKTP("ktppemilik"))}),(0,o.K2)(i,{label:"KTP Mandor",icon:"pi pi-image",onClick:a[38]||(a[38]=e=>s.viewKTP("ktpmandor"))}),(0,o.K2)(i,{label:"KTP Pekerja 1",icon:"pi pi-image",onClick:a[39]||(a[39]=e=>s.viewKTP("ktppekerja1"))}),(0,o.K2)(i,{label:"KTP Pekerja 2",icon:"pi pi-image",onClick:a[40]||(a[40]=e=>s.viewKTP("ktppekerja2"))}),(0,o.K2)(i,{label:"KTP Pekerja 3",icon:"pi pi-image",onClick:a[41]||(a[41]=e=>s.viewKTP("ktppekerja3"))}),(0,o.K2)(i,{label:"Gambar Pelaksanaan",icon:"pi pi-image",onClick:a[42]||(a[42]=e=>s.viewKTP("gambarpelak"))}),(0,o.K2)(i,{label:"Gambar Rencana",icon:"pi pi-image",onClick:a[43]||(a[43]=e=>s.viewKTP("gambarrencana"))}),(0,o.K2)(i,{label:"Photo Deposit",icon:"pi pi-image",onClick:a[44]||(a[44]=e=>s.viewKTP("photodp"))})])])],512)])),_:1},8,["visible"]),(0,o.K2)(h,{visible:n.imageDialogVisible,closable:!1,style:{width:"50vh"}},{header:(0,o.Ql)((()=>[(0,o.K2)(i,{label:"Print",icon:"pi pi-print",class:"button-rounded button-text mr-auto button-secondary",onClick:s.printCurrentImage},null,8,["onClick"]),(0,o.K2)(i,{label:"Close",icon:"pi pi-times",class:"button-rounded button-text ml-auto button-secondary",onClick:s.hideImageDialog},null,8,["onClick"])])),default:(0,o.Ql)((()=>[(0,o.QD)("img",{src:n.imageSrc,alt:"Image Preview",style:{"max-width":"100%","max-height":"100%"}},null,8,qe)])),_:1},8,["visible"])],64)}t(3248),t(2168),t(5104),t(8312);var ea=t(100),aa=t(3952),ta=t(8830),oa=t(5556),la=t(6716),ra=t(2332),na=t(2112),sa=t(3592),ia=t(6592),ua=t.p+"assets/pdf/FormIzinMazenta.pdf",da=t.p+"assets/pdf/FormIzinMazentaNoVA.pdf",ca=t.p+"assets/pdf/FormIzinBanara.pdf",ma=t.p+"assets/pdf/FormIzinBanaraNoVA.pdf",pa=t.p+"assets/pdf/FormIzinNaraya.pdf",fa=t.p+"assets/pdf/FormIzinNarayaNoVA.pdf";let ba=new p.c;var ha={components:{Dialog:ea.c,Button:ta.c,ConfirmDialog:aa.c,InputText:f.c,Textarea:oa.c,Calendar:ra.c,Checkbox:na.c,InputNumber:ia.c,Dropdown:b.c},props:["displayModal","form","refreshList","action"],res:null,data(){return{ijinKendaraanOptions:["Truck Engkel","Truk Pompa","Mini Molen","Lain-Lain"],statuscustOptions:["Pemilik","Penyewa","Kontraktor","Lain-Lain"],statusoptions:["Batal","Aktif"],imageDialogVisible:!1,imageSrc:""}},methods:{viewKTP(e){const a=this.formCopy.attributes[e];a?this.openImagePopup(a):this.$toast.add({severity:"warn",summary:"No Image",detail:"The image is not available.",life:3e3})},openImagePopup(e){const a={1:"MazentaImages",2:"BanaraImages",3:"NarayaImages",4:"MarchandImages"},t=this.formCopy.attributes.project,o=a[t];o?(this.imageSrc=`/img/${o}/${e}`,this.imageDialogVisible=!0):console.error("Project not found!")},hideImageDialog(){this.imageDialogVisible=!1},printCurrentImage(){this.printImage(this.imageSrc)},printImage(e){const a=new Image;a.onload=()=>{const e=document.createElement("canvas"),t=e.getContext("2d");e.width=a.width,e.height=a.height,t.drawImage(a,0,0);const o=e.toDataURL(),l=window.open("","_blank");l.document.write("<html><head><title>Print Image</title>"),l.document.write("<style>@media print { img { width: 40%; height: auto; } }</style>"),l.document.write("</head><body>"),l.document.write(`<img src="${o}" onload="window.print();">`),l.document.write("</body></html>"),l.document.close()},a.src=e},printAllImages(){const e=[this.formCopy.attributes.ktppemilik,this.formCopy.attributes.ktpmandor,this.formCopy.attributes.ktppekerja1,this.formCopy.attributes.ktppekerja2,this.formCopy.attributes.ktppekerja3],a=e.filter((e=>e));if(0===a.length)return void console.log("No valid image URLs available.");const t={1:"MazentaImages",2:"BanaraImages",3:"NarayaImages",4:"MarchandImages"},o=this.formCopy.attributes.project,l=t[o],r=window.open("","_blank");if(r){const a=[],t=e=>new Promise(((a,t)=>{const o=new Image;o.crossOrigin="anonymous",o.onload=()=>a(o),o.onerror=e=>t(e),o.src=`/img/${l}/${e}`}));Promise.all(e.map((e=>t(e)))).then((e=>{e.forEach((e=>{a.push(e)}));const t=a.map((e=>`<img src="${e.src}" style="width: 33%; height: auto; float: left;">`)).join("");r.document.write("<html><head><title>Print All Images</title>"),r.document.write("<style>@media print { body { display: block; } img { box-sizing: border-box; } }</style>"),r.document.write("</head><body>"),r.document.write(t),r.document.write("</body></html>"),r.document.close(),r.onload=()=>{r.print()}})).catch((e=>{console.error("Error loading images:",e)}))}else console.error("Print window not opened")},changeDateFormat(e){const a=["January","February","March","April","May","June","July","August","September","October","November","December"],t=e.split("-");if(3===t.length){const e=t[2],o=a[parseInt(t[1],10)-1],l=t[0].substring(2);return`${e} ${o} ${l}`}return e},changeDataFormat(e){const a=e.split("-"),t=a[0],o=a[1],l=a[2];return`${l}-${o}-${t}`},formatPrice(e){e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".");const a=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".");return`${a},-`},async fillForm(){try{let e,a=null,t=this.formCopy.attributes.project,o=la.c.getters.getRole;"mazentaAdmin"!=o&&"superadmin"!==o||1!==t?"banaraAdmin"!=o&&"superadmin"!==o||2!==t?"narayaAdmin"!==o&&"superadmin"!==o||3!==t||(this.form.attributes.norek?(e=await fetch(pa).then((e=>e.arrayBuffer())),a=await sa.PDFDocument.load(e)):(e=await fetch(fa).then((e=>e.arrayBuffer())),a=await sa.PDFDocument.load(e))):this.form.attributes.norek?(e=await fetch(ca).then((e=>e.arrayBuffer())),a=await sa.PDFDocument.load(e)):(e=await fetch(ma).then((e=>e.arrayBuffer())),a=await sa.PDFDocument.load(e)):this.form.attributes.norek?(e=await fetch(ua).then((e=>e.arrayBuffer())),a=await sa.PDFDocument.load(e)):(e=await fetch(da).then((e=>e.arrayBuffer())),a=await sa.PDFDocument.load(e));const l=a.getForm();l.getTextField("namapemohon").setText(this.form.attributes.namapemohon??""),l.getTextField("namapemilikunit").setText(this.form.attributes.namapemilikunit??""),l.getRadioGroup("Group1").select(this.form.attributes.statuscust??"");const r=l.getTextField("staLain");this.form.attributes.lainlainstatus&&r.setText(this.form.attributes.lainlainstatus??""),l.getTextField("clusterblok").setText(this.form.attributes.clusterblok??"");const n=l.getTextField("luastanah");if(n){const e=this.form.attributes.luastanah.split("/"),a=e.map((e=>`${e.trim()}²`)).join(" / ");n.setText(a)}l.getTextField("notelp").setText(this.form.attributes.notelp??""),l.getTextField("tglPelaksanaan").setText(this.changeDateFormat(this.form.attributes.tglPelaksanaan??"")),l.getTextField("jumlahkendaraan").setText(JSON.stringify(this.form.attributes.jumlahkendaraan??"")),l.getTextField("uraianpekerjaan").setText(this.form.attributes.uraianpekerjaan??""),l.getRadioGroup("Group2").select(this.form.attributes.ijinkendaraan??"");const s=l.getTextField("kenLain");this.form.attributes.lainlainkendaraan&&s.setText(this.form.attributes.lainlainkendaraan??""),l.getTextField("ijinacara").setText(this.form.attributes.ijinacara??"");const i=l.getTextField("ukuranpanggung");if(i){const e=this.form.attributes.ukuranpanggung.split("/"),a=e.map((e=>`${e.trim()}²`)).join(" / ");i.setText(a)}l.getTextField("untukkeperluan").setText(this.form.attributes.untukkeperluan??"");const u=l.getCheckBox("ktp");1==this.form.attributes.ktp&&u.check();const d=l.getCheckBox("bast");1==this.form.attributes.bast&&d.check();const c=l.getCheckBox("p3u");1==this.form.attributes.p3u&&c.check();const m=l.getCheckBox("perjanjiansewa");1==this.form.attributes.perjanjiansewa&&m.check();const p=l.getCheckBox("fototampak");1==this.form.attributes.fototampak&&p.check();const f=l.getCheckBox("gambarpelaksanaan");1==this.form.attributes.gambarpelaksanaan&&f.check();const b=l.getCheckBox("gambardepan");1==this.form.attributes.gambardepan&&b.check();const h=l.getCheckBox("suratpernyataan");1==this.form.attributes.suratpernyataan&&h.check();const y=l.getCheckBox("suratkuasa");1==this.form.attributes.suratkuasa&&y.check();const g=l.getCheckBox("klaSedang"),k=l.getCheckBox("klaBesar");1==this.form.attributes.klaSedang?g.check():k.check(),l.getTextField("bulan").setText(this.form.attributes.bulan??"");const x=this.form.attributes.tahun,v=x.substring(x.length-2);l.getTextField("tahun").setText(v);const D=this.formatPrice(this.form.attributes.adm??""),C=this.formatPrice(this.form.attributes.jaminan??"");l.getTextField("adm").setText(D??""),l.getTextField("jaminan").setText(C??""),l.getTextField("bank").setText(this.form.attributes.bank??""),this.form.attributes.norek?(l.getTextField("norek").setText(this.form.attributes.norek),l.getTextField("cabang").setText(this.form.attributes.cabang??"")):l.getTextField("nova").setText(JSON.stringify(this.form.attributes.nova)),l.getTextField("bintaro").setText("BINTARO"),l.getTextField("tglPrint").setText(this.changeDateFormat(this.form.attributes.tglPrint??"")),l.getTextField("badanpengelola").setText(this.form.attributes.badanpengelola??"");const w=await a.save(),V=new Blob([w],{type:"application/pdf"}),P=URL.createObjectURL(V);window.open(P,"_blank"),URL.revokeObjectURL(P)}catch(e){console.error("Error while processing PDF:",e)}},handleClose(){this.$emit("update:form",null),this.$emit("update:displayModal",!1),this.imageDialogVisible=!1},async handleSubmit(){try{const e=new Date(this.formCopy.attributes.tglPelaksanaan),a=new Date(this.formCopy.attributes.tglPrint);e.setHours(e.getHours()+7),a.setHours(a.getHours()+7),this.formCopy.attributes.tglPelaksanaan=e.toISOString(),this.formCopy.attributes.tglPrint=a.toISOString();let t={...this.formCopy.attributes},o=this.formCopy.id,l=null,r={data:t};l=await ba.izinForm.updateByID(o,r),this.handleClose(),this.refreshList(),console.log(l),this.$toast.add({severity:"success",summary:"Form Update Success",detail:`Form #${l.data.data.id} has been saved`,life:3e3})}catch(e){console.error("Error while saving form:",e)}}},computed:{formCopy(){return{...this.form}}}},ya=t(4100);const ga=(0,ya.c)(ha,[["render",Xe]]);var ka=ga,xa=new p.c,va={components:{DataTable:c.c,Column:m.c,InputText:f.c,formModal:ka,Dropdown:b.c,StatusTag:y.c,BlockUI:h.c},data(){return{formData:null,action:null,selectedForm:null,role:la.c.getters.getRole,displayModal:!1,statuses:["Batal","Aktif"],statusfilter:["Semua","Batal","Aktif"],selectedStatus:"Semua",projectfilter:["Project","Mazenta","Banara","Naraya"],selectedProject:"Project",filters:{global:{value:null,matchMode:g.yI.CONTAINS},"attributes.status":{value:null,matchMode:g.yI.EQUALS},"attributes.project":{value:null,matchMode:g.yI.EQUALS}}}},created(){this.getAllForms()},watch:{selectedStatus(e){"Semua"!==e?(this.filters["attributes.status"].value=e,this.getAllForms()):(this.filters["attributes.status"].value=null,this.getAllForms())},selectedProject(e){"Project"!==e?("Mazenta"==e&&(this.filters["attributes.project"].value=1),"Banara"==e&&(this.filters["attributes.project"].value=2),"Naraya"==e&&(this.filters["attributes.project"].value=3),this.getAllForms()):(this.filters["attributes.project"].value=null,this.getAllForms())}},methods:{getStatusText(e){switch(e){case 1:return"Mazenta";case 2:return"Banara";case 3:return"Naraya";default:return""}},async getAllForms(){try{let e=await xa.izinForm.findAll();this.filterInternet(e.data.data)}catch(e){console.log(e)}},filterInternet(e){let a=la.c.getters.getRole;this.formData=e.filter((e=>{const t=e.attributes.project;return"mazentaAdmin"==a?t&&1===t:"banaraAdmin"==a?t&&2===t:"narayaAdmin"==a?t&&3===t:"superadmin"==a?t:void 0}))},showModal(e,a){this.action=e,this.selectedForm=a,this.displayModal=!0}}};const Da=(0,ya.c)(va,[["render",d]]);var Ca=Da}}]);
//# sourceMappingURL=328.js.map